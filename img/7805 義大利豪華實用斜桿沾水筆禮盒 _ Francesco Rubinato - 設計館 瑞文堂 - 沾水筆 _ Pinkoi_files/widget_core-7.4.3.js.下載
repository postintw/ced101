!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.survicate=t():e.survicate=t()}(window,(function(){return function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=353)}([function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return N})),r.d(t,"hydrate",(function(){return L})),r.d(t,"createElement",(function(){return y})),r.d(t,"h",(function(){return y})),r.d(t,"Fragment",(function(){return m})),r.d(t,"createRef",(function(){return b})),r.d(t,"isValidElement",(function(){return n})),r.d(t,"Component",(function(){return g})),r.d(t,"cloneElement",(function(){return F})),r.d(t,"createContext",(function(){return V})),r.d(t,"toChildArray",(function(){return T})),r.d(t,"_unmount",(function(){return D})),r.d(t,"options",(function(){return s}));var s,n,i,o,a,u,l,c,d={},p=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function f(e,t){for(var r in t)e[r]=t[r];return e}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,r){var s,n=arguments,i={};for(s in t)"key"!==s&&"ref"!==s&&(i[s]=t[s]);if(arguments.length>3)for(r=[r],s=3;s<arguments.length;s++)r.push(n[s]);if(null!=r&&(i.children=r),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===i[s]&&(i[s]=e.defaultProps[s]);return h(e,i,t&&t.key,t&&t.ref,null)}function h(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(o.__v=o),s.vnode&&s.vnode(o),o}function b(){return{}}function m(e){return e.children}function g(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?w(e):null}function x(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return x(e)}}function S(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!o++||u!==s.debounceRendering)&&((u=s.debounceRendering)||a)(k)}function k(){for(var e;o=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,r,s,n,i,o,a;e.__d&&(o=(i=(t=e).__v).__e,(a=t.__P)&&(r=[],(s=f({},i)).__v=s,n=I(a,i,s,t.__n,void 0!==a.ownerSVGElement,null,r,null==o?w(i):o),C(r,i),n!=o&&x(i)))}))}function P(e,t,r,s,n,i,o,a,u,l){var c,v,f,y,b,g,x,S,k,P=s&&s.__k||p,T=P.length;for(u==d&&(u=null!=o?o[0]:T?w(s,0):null),r.__k=[],c=0;c<t.length;c++)if(null!=(y=r.__k[c]=null==(y=t[c])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y?h(null,y,null,null,y):Array.isArray(y)?h(m,{children:y},null,null,null):null!=y.__e||null!=y.__c?h(y.type,y.props,y.key,null,y.__v):y)){if(y.__=r,y.__b=r.__b+1,null===(f=P[c])||f&&y.key==f.key&&y.type===f.type)P[c]=void 0;else for(v=0;v<T;v++){if((f=P[v])&&y.key==f.key&&y.type===f.type){P[v]=void 0;break}f=null}if(b=I(e,y,f=f||d,n,i,o,a,u,l),(v=y.ref)&&f.ref!=v&&(S||(S=[]),f.ref&&S.push(f.ref,null,y),S.push(v,y.__c||b,y)),null!=b){if(null==x&&(x=b),k=void 0,void 0!==y.__d)k=y.__d,y.__d=void 0;else if(o==f||b!=u||null==b.parentNode){e:if(null==u||u.parentNode!==e)e.appendChild(b),k=null;else{for(g=u,v=0;(g=g.nextSibling)&&v<T;v+=2)if(g==b)break e;e.insertBefore(b,u),k=u}"option"==r.type&&(e.value="")}u=void 0!==k?k:b.nextSibling,"function"==typeof r.type&&(r.__d=u)}else u&&f.__e==u&&u.parentNode!=e&&(u=w(f))}if(r.__e=x,null!=o&&"function"!=typeof r.type)for(c=o.length;c--;)null!=o[c]&&_(o[c]);for(c=T;c--;)null!=P[c]&&D(P[c],P[c]);if(S)for(c=0;c<S.length;c++)E(S[c],S[++c],S[++c])}function T(e){return null==e||"boolean"==typeof e?[]:Array.isArray(e)?p.concat.apply([],e.map(T)):[e]}function O(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]="number"==typeof r&&!1===v.test(t)?r+"px":null==r?"":r}function A(e,t,r,s,n){var i,o,a,u,l;if(n?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(i=e.style,"string"==typeof r)i.cssText=r;else{if("string"==typeof s&&(i.cssText="",s=null),s)for(u in s)r&&u in r||O(i,u,"");if(r)for(l in r)s&&r[l]===s[l]||O(i,l,r[l])}else"o"===t[0]&&"n"===t[1]?(o=t!==(t=t.replace(/Capture$/,"")),a=t.toLowerCase(),t=(a in e?a:t).slice(2),r?(s||e.addEventListener(t,M,o),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,M,o)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!n&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function M(e){this.l[e.type](s.event?s.event(e):e)}function I(e,t,r,n,i,o,a,u,l){var c,d,p,v,_,y,h,b,w,x,S,k=t.type;if(void 0!==t.constructor)return null;(c=s.__b)&&c(t);try{e:if("function"==typeof k){if(b=t.props,w=(c=k.contextType)&&n[c.__c],x=c?w?w.props.value:c.__:n,r.__c?h=(d=t.__c=r.__c).__=d.__E:("prototype"in k&&k.prototype.render?t.__c=d=new k(b,x):(t.__c=d=new g(b,x),d.constructor=k,d.render=R),w&&w.sub(d),d.props=b,d.state||(d.state={}),d.context=x,d.__n=n,p=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=k.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=f({},d.__s)),f(d.__s,k.getDerivedStateFromProps(b,d.__s))),v=d.props,_=d.state,p)null==k.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==k.getDerivedStateFromProps&&b!==v&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,x),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,x)||t.__v===r.__v){for(d.props=b,d.state=d.__s,t.__v!==r.__v&&(d.__d=!1),d.__v=t,t.__e=r.__e,t.__k=r.__k,d.__h.length&&a.push(d),c=0;c<t.__k.length;c++)t.__k[c]&&(t.__k[c].__=t);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,x),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(v,_,y)}))}d.context=x,d.props=b,d.state=d.__s,(c=s.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),null!=d.getChildContext&&(n=f(f({},n),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(y=d.getSnapshotBeforeUpdate(v,_)),S=null!=c&&c.type==m&&null==c.key?c.props.children:c,P(e,Array.isArray(S)?S:[S],t,r,n,i,o,a,u,l),d.base=t.__e,d.__h.length&&a.push(d),h&&(d.__E=d.__=null),d.__e=!1}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=j(r.__e,t,r,n,i,o,a,l);(c=s.diffed)&&c(t)}catch(e){t.__v=null,s.__e(e,t,r)}return t.__e}function C(e,t){s.__c&&s.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){s.__e(e,t.__v)}}))}function j(e,t,r,s,n,i,o,a){var u,l,c,v,f,_=r.props,y=t.props;if(n="svg"===t.type||n,null!=i)for(u=0;u<i.length;u++)if(null!=(l=i[u])&&((null===t.type?3===l.nodeType:l.localName===t.type)||e==l)){e=l,i[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(y);e=n?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,y.is&&{is:y.is}),i=null,a=!1}if(null===t.type)_!==y&&e.data!=y&&(e.data=y);else{if(null!=i&&(i=p.slice.call(e.childNodes)),c=(_=r.props||d).dangerouslySetInnerHTML,v=y.dangerouslySetInnerHTML,!a){if(null!=i)for(_={},f=0;f<e.attributes.length;f++)_[e.attributes[f].name]=e.attributes[f].value;(v||c)&&(v&&c&&v.__html==c.__html||(e.innerHTML=v&&v.__html||""))}(function(e,t,r,s,n){var i;for(i in r)"children"===i||"key"===i||i in t||A(e,i,null,r[i],s);for(i in t)n&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||r[i]===t[i]||A(e,i,t[i],r[i],s)})(e,y,_,n,a),v?t.__k=[]:(u=t.props.children,P(e,Array.isArray(u)?u:[u],t,r,s,"foreignObject"!==t.type&&n,i,o,d,a)),a||("value"in y&&void 0!==(u=y.value)&&u!==e.value&&A(e,"value",u,_.value,!1),"checked"in y&&void 0!==(u=y.checked)&&u!==e.checked&&A(e,"checked",u,_.checked,!1))}return e}function E(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){s.__e(e,r)}}function D(e,t,r){var n,i,o;if(s.unmount&&s.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||E(n,null,t)),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){s.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&D(n[o],t,r);null!=i&&_(i)}function R(e,t,r){return this.constructor(e,r)}function N(e,t,r){var n,i,o;s.__&&s.__(e,t),i=(n=r===l)?null:r&&r.__k||t.__k,e=y(m,null,[e]),o=[],I(t,(n?t:r||t).__k=e,i||d,d,void 0!==t.ownerSVGElement,r&&!n?[r]:i?null:t.childNodes.length?p.slice.call(t.childNodes):null,o,r||d,n),C(o,e)}function L(e,t){N(e,t,l)}function F(e,t){var r,s;for(s in t=f(f({},e.props),t),arguments.length>2&&(t.children=p.slice.call(arguments,2)),r={},t)"key"!==s&&"ref"!==s&&(r[s]=t[s]);return h(e.type,r,t.key||e.key,t.ref||e.ref,null)}function V(e){var t={},r={__c:"__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var s,n=this;return this.getChildContext||(s=[],this.getChildContext=function(){return t[r.__c]=n,t},this.shouldComponentUpdate=function(e){n.props.value!==e.value&&s.some((function(t){t.context=e.value,S(t)}))},this.sub=function(e){s.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){s.splice(s.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}s={__e:function(e,t){for(var r,s;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError&&(s=!0,r.setState(r.constructor.getDerivedStateFromError(e))),null!=r.componentDidCatch&&(s=!0,r.componentDidCatch(e)),s)return S(r.__E=r)}catch(t){e=t}throw e}},n=function(e){return null!=e&&void 0===e.constructor},g.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(r,this.props)),e&&f(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),S(this))},g.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),S(this))},g.prototype.render=m,i=[],o=0,a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=d,c=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initStore=t.store=t.LoadingType=void 0;var s=f(r(125)),n=(f(r(126)),r(7)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(22)),o=r(23),a=r(16),u=r(15),l=r(29),c=r(165),d=r(166),p=r(8),v=r(81);function f(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let y;t.LoadingType=y,function(e){e[e.FullPage=0]="FullPage",e[e.TWS=1]="TWS"}(y||(t.LoadingType=y={}));const h=window._svd||{},b=window._svc||{},m={backendData:d.emptyBackendData,surveyState:c.emptySurveyState,surveyApiState:{surveysTriggeredByApi:[]},visitor:l.emptyVisitor,sampledSurveys:{},storageService:null,backendService:null,tabId:0,isPreview:!1,isKioskMode:!1},g=(0,s.default)(m);t.store=g;const w=e=>{const t=e.settings||{};let r=e.show_subfooter;return"hide_footer"in t&&(r=!t.hide_footer),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){_(e,t,r[t])}))}return e}({},e,{show_subfooter:r,settings:e.settings||{}})};t.initStore=async e=>{g.action(o.setWorkspaceKey)(b.workspaceKey),g.action(o.setAudiences)(h.audiences||[]),g.action(o.setThemes)(h.themes),g.action(u.setPreview)(window._svc.isPreview),await(0,u.initServices)(b.workspaceKey);e===y.TWS&&h.surveys?(await(async()=>{h.surveys=h.surveys||[];let e=h.surveys.filter(e=>e.type!==n.SurveyType.FeedbackButton);e=e.map(w),await(0,u.initVisitor)(u.InitVisitorMode.normal),(0,v.dispatchSurvicateReadyEvent)(),g.action(o.setSurveys)(e),g.action(u.setTabId)(Math.floor(1e6*Math.random()))})(),g.action(o.setIntegrations)(h.integrations)):h.survey&&(await(async()=>{h.survey=w(h.survey),i.default.params[i.ReservedParams.multiple_responses]&&(h.survey.kiosk_enabled=!0);const e=h.survey.kiosk_enabled;g.setState({isKioskMode:e});const t=e?u.InitVisitorMode.kiosk:u.InitVisitorMode.normal;await(0,u.initVisitor)(t),(0,v.dispatchSurvicateReadyEvent)(),g.action(p.setVisitorAttributesFromURL)(),g.action(a.setSurvey)(h.survey)})(),g.action(o.setIntegrations)(h.integrations))}},function(e,t,r){"use strict";r.r(t),r.d(t,"useState",(function(){return f})),r.d(t,"useReducer",(function(){return _})),r.d(t,"useEffect",(function(){return y})),r.d(t,"useLayoutEffect",(function(){return h})),r.d(t,"useRef",(function(){return b})),r.d(t,"useImperativeHandle",(function(){return m})),r.d(t,"useMemo",(function(){return g})),r.d(t,"useCallback",(function(){return w})),r.d(t,"useContext",(function(){return x})),r.d(t,"useDebugValue",(function(){return S})),r.d(t,"useErrorBoundary",(function(){return k}));var s,n,i,o=r(0),a=0,u=[],l=o.options.__r,c=o.options.diffed,d=o.options.__c,p=o.options.unmount;function v(e,t){o.options.__h&&o.options.__h(n,e,a||t),a=0;var r=n.__H||(n.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function f(e){return a=1,_(M,e)}function _(e,t,r){var i=v(s++,2);return i.t=e,i.__c||(i.__c=n,i.__=[r?r(t):M(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__[0]=t,i.__c.setState({}))}]),i.__}function y(e,t){var r=v(s++,3);!o.options.__s&&A(r.__H,t)&&(r.__=e,r.__H=t,n.__H.__h.push(r))}function h(e,t){var r=v(s++,4);!o.options.__s&&A(r.__H,t)&&(r.__=e,r.__H=t,n.__h.push(r))}function b(e){return a=5,g((function(){return{current:e}}),[])}function m(e,t,r){a=6,h((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==r?r:r.concat(e))}function g(e,t){var r=v(s++,7);return A(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function w(e,t){return a=8,g((function(){return e}),t)}function x(e){var t=n.context[e.__c],r=v(s++,9);return r.__c=e,t?(null==r.__&&(r.__=!0,t.sub(n)),t.props.value):e.__}function S(e,t){o.options.useDebugValue&&o.options.useDebugValue(t?t(e):e)}function k(e){var t=v(s++,10),r=f();return t.__=e,n.componentDidCatch||(n.componentDidCatch=function(e){t.__&&t.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}function P(){u.some((function(e){if(e.__P)try{e.__H.__h.forEach(T),e.__H.__h.forEach(O),e.__H.__h=[]}catch(t){return e.__H.__h=[],o.options.__e(t,e.__v),!0}})),u=[]}function T(e){"function"==typeof e.u&&e.u()}function O(e){e.u=e.__()}function A(e,t){return!e||t.some((function(t,r){return t!==e[r]}))}function M(e,t){return"function"==typeof t?t(e):t}o.options.__r=function(e){l&&l(e),s=0;var t=(n=e.__c).__H;t&&(t.__h.forEach(T),t.__h.forEach(O),t.__h=[])},o.options.diffed=function(e){c&&c(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==u.push(t)&&i===o.options.requestAnimationFrame||((i=o.options.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(s),cancelAnimationFrame(t),setTimeout(e)},s=setTimeout(r,100);"undefined"!=typeof window&&(t=requestAnimationFrame(r))})(P))},o.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(T),e.__h=e.__h.filter((function(e){return!e.__||O(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],o.options.__e(r,e.__v)}})),d&&d(e,t)},o.options.unmount=function(e){p&&p(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(T)}catch(e){o.options.__e(e,t.__v)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(1),n=r(10),i=r(37),o=r(7);t.default=class{static descriptionColor(){const{theme:e}=s.store.getState().surveyState;return e&&e.color_scheme?e.color_scheme.font_widget:"#29292a"}static isSurveyUp(){const{survey:e}=s.store.getState().surveyState;if(e)return e.presentation_style===o.TWSPosition.topLeft||e.presentation_style===o.TWSPosition.topRight;throw new Error("No survey, when looking at isSurveyUp.")}static isBackgroundLight(){const{theme:e}=s.store.getState().surveyState;return!e||(0,i.getLuminosity)(e.color_scheme.bg_widget)<.6}static colors(){const{theme:e}=s.store.getState().surveyState;return e?e.color_scheme:n.classicThemeDefaultColors}static questionColor(){const{theme:e}=s.store.getState().surveyState;return e&&e.type===n.ThemeType.chat?e.color_scheme.main_color:e?e.color_scheme.font_widget:"#29292a"}static answerColor(){const{theme:e}=s.store.getState().surveyState;return e&&e.color_scheme?e.color_scheme.font_answer:"#29292a"}static bgAnswerColor(){const{theme:e}=s.store.getState().surveyState;return e&&e.color_scheme?e.color_scheme.bg_answer:"#ffffff"}static isClassicTheme(){const{theme:e}=s.store.getState().surveyState;return e&&e.type===n.ThemeType.classic}static isChatTheme(){const{theme:e}=s.store.getState().surveyState;return e&&e.type===n.ThemeType.chat}static isSimpleTheme(){const{theme:e}=s.store.getState().surveyState;return!!e&&e.type===n.ThemeType.simple}static themeType(){const{theme:e}=s.store.getState().surveyState;return e?e.type:null}}},function(e,t,r){"use strict";var s=r(57),n=r(99),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:n,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function r(r,s){"object"==typeof t[s]&&"object"==typeof r?t[s]=e(t[s],r):t[s]=r}for(var s=0,n=arguments.length;s<n;s++)l(arguments[s],r);return t},extend:function(e,t,r){return l(t,(function(t,n){e[n]=r&&"function"==typeof t?s(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",s=e[3];if(!s)return r;if(t&&"function"==typeof btoa){var n=(o=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),i=s.sources.map((function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"}));return[r].concat(i).concat([n]).join("\n")}var o;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var s={},n=0;n<this.length;n++){var i=this[n][0];null!=i&&(s[i]=!0)}for(n=0;n<e.length;n++){var o=e[n];null!=o[0]&&s[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},function(e,t,r){var s,n,i={},o=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=s.apply(this,arguments)),n}),a=function(e,t){return t?t.querySelector(e):document.querySelector(e)},u=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var s=a.call(this,e,r);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}}(),l=null,c=0,d=[],p=r(80);function v(e,t){for(var r=0;r<e.length;r++){var s=e[r],n=i[s.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](s.parts[o]);for(;o<s.parts.length;o++)n.parts.push(m(s.parts[o],t))}else{var a=[];for(o=0;o<s.parts.length;o++)a.push(m(s.parts[o],t));i[s.id]={id:s.id,refs:1,parts:a}}}}function f(e,t){for(var r=[],s={},n=0;n<e.length;n++){var i=e[n],o=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};s[o]?s[o].parts.push(a):r.push(s[o]={id:o,parts:[a]})}return r}function _(e,t){var r=u(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=d[d.length-1];if("top"===e.insertAt)s?s.nextSibling?r.insertBefore(t,s.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),d.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=u(e.insertAt.before,r);r.insertBefore(t,n)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var s=function(){0;return r.nc}();s&&(e.attrs.nonce=s)}return b(t,e.attrs),_(e,t),t}function b(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function m(e,t){var r,s,n,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var o=c++;r=l||(l=h(t)),s=x.bind(null,r,o,!1),n=x.bind(null,r,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),_(e,t),t}(t),s=k.bind(null,r,t),n=function(){y(r),r.href&&URL.revokeObjectURL(r.href)}):(r=h(t),s=S.bind(null,r),n=function(){y(r)});return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=f(e,t);return v(r,t),function(e){for(var s=[],n=0;n<r.length;n++){var o=r[n];(a=i[o.id]).refs--,s.push(a)}e&&v(f(e,t),t);for(n=0;n<s.length;n++){var a;if(0===(a=s[n]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete i[a.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function x(e,t,r,s){var n=r?"":s.css;if(e.styleSheet)e.styleSheet.cssText=w(t,n);else{var i=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function S(e,t){var r=t.css,s=t.media;if(s&&e.setAttribute("media",s),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function k(e,t,r){var s=r.css,n=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||i)&&(s=p(s)),n&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([s],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}},function(e,t,r){"use strict";let s,n,i,o,a,u,l,c;Object.defineProperty(t,"__esModule",{value:!0}),t.TWSPosition=t.TWSButtonsPosition=t.OverlayType=t.AppearMethodApi=t.AppearMethod=t.SurveyType=t.LinkType=t.DisplayPer=void 0,t.DisplayPer=s,function(e){e.visit="visit",e.visitor="visitor"}(s||(t.DisplayPer=s={})),t.LinkType=n,function(e){e.exact="exact",e.regexp="regexp",e.end="end",e.simple="simple",e.contains="contains"}(n||(t.LinkType=n={})),t.SurveyType=i,function(e){e.TWS="WidgetSurvey",e.LinkSurvey="PageSurvey",e.Mobile="MobileSurvey",e.FeedbackButton="FeedbackSurvey"}(i||(t.SurveyType=i={})),t.AppearMethod=o,function(e){e.immediately="immediately",e.delayed="delayed",e.exitIntent="leaveintent",e.scroll="scroll"}(o||(t.AppearMethod=o={})),t.AppearMethodApi=a,function(e){e.immediately="immediately",e.delayed="delayed",e.exitIntent="exitIntent",e.scroll="onScroll"}(a||(t.AppearMethodApi=a={})),t.OverlayType=u,function(e){e.light="light",e.dark="dark"}(u||(t.OverlayType=u={})),t.TWSButtonsPosition=l,function(e){e.top="top",e.bottom="bottom"}(l||(t.TWSButtonsPosition=l={})),t.TWSPosition=c,function(e){e.right="right",e.left="left",e.center="center",e.topLeft="topleft",e.topRight="topright"}(c||(t.TWSPosition=c={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveVisitor=p,t.addNewVisit=v,t.setVisitorAttributes=f,t.setVisitorAttributesFromURL=_,t.setVisitorTag=y,t.setVisitorIdentity=h,t.setSurveyInteraction=b,t.visitorActions=void 0;var s=r(29),n=l(r(17)),i=r(34),o=r(1),a=r(52),u=l(r(22));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){d(e,t,r[t])}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p({storageService:e,isKioskMode:t},r){o.store.setState({visitor:r}),t||e.put({table:i.StorageTables.all,key:i.StorageTableKeys.visitor},r)}function v(e){const t=c({},e.visitor);1===n.default.get().views.length&&(t.visitsCount+=1,o.store.action(p)(t))}function f(e,t){const r=c({},e.visitor);Object.keys(t).forEach(e=>{let n=""+t[e];n=n.substring(0,4096),((e,t)=>!/^({.*})|(\*\|.*\|\*)|(\[.*\])|(%.*%)|(~.*~)|(--.*--)|(\$.*\$)$/.test(e)&&t!==a.USER_ID_TRAIT)(n,e)&&(e in s.VisitorReservedAttributes?r.attributes[e]=n:r.customAttributes[e]=n)}),t[a.USER_ID_TRAIT]&&(r.identities.api=r.identities.api||{},r.identities.api={id:t[a.USER_ID_TRAIT]}),o.store.action(p)(r)}function _(){o.store.action(f)(u.default.params)}function y(e,t){const r=c({},e.visitor);r.tags.includes(t)||(r.tags.push(t),o.store.action(p)(r))}function h(e,{identityProvider:t,key:r,value:s}){const n=c({},e.visitor),i=c({},n.identities);i[t]=c({},i[t],{[r]:s}),n.identities=i,o.store.action(p)(n)}function b(e,{surveyId:t,interactionType:r}){const s=c({},e.visitor),n=[...s[r]],i={surveyId:t,timestamp:(new Date).valueOf()},a=n.findIndex(e=>(e.surveyId||e)===t);-1!==a?n[a]=i:n.push(i),s[r]=n,o.store.action(p)(s)}const m={saveVisitor:p,addNewVisit:v,setVisitorAttributes:f,setVisitorAttributesFromURL:_,setVisitorTag:y,setVisitorIdentity:h,setSurveyInteraction:b};t.visitorActions=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubmitButton=void 0;var s,n=r(0),i=r(14),o=(s=r(3))&&s.__esModule?s:{default:s};t.SubmitButton=({submit:e,text:t="Submit"})=>{const r=["sv__submit-button",o.default.isChatTheme()?"sv__chat":"","sv-bg-bs","sv-col-fs"].join(" ");return(0,n.h)("div",{className:"sv__submit-button-wrapper"},(0,n.h)("button",{type:"button",className:r,onClick:t=>{t.target instanceof HTMLButtonElement&&t.target.blur(),e()},onKeyDown:t=>(0,i.keyboardClick)(t,e,{preventDefault:!0})},t||"Submit",(0,n.h)("span",{className:"sv__submit-button-next-arrow"})))}},function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.simpleThemeDefaultColors=t.chatThemeDefaultColors=t.classicThemeDefaultColors=t.ThemeType=void 0,t.ThemeType=s,function(e){e.classic="SurveyTheme",e.chat="ChatTheme",e.simple="SimpleTheme"}(s||(t.ThemeType=s={}));t.classicThemeDefaultColors={bg_answer:"#3a3a3b",bg_submit:"#f1c40f",bg_widget:"#29292a",font_answer:"#ffffff",font_submit:"#29292a",font_widget:"#ffffff"};t.chatThemeDefaultColors={bg_answer:"#ffffff",bg_widget:"#ffffff",bg_submit:"#131231",font_answer:"#667582",font_widget:"#667582",font_submit:"#ffffff"};t.simpleThemeDefaultColors={bg_answer:"#ebeeee",bg_widget:"#ffffff",bg_submit:"#70c84a",font_answer:"#7f8c8d",font_widget:"#5b5b5e",font_submit:"#ffffff"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=new class{constructor(){var e,t,r;r="",(t="userAgent")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,this.resetUserAgent()}isOSMac(){return!!this.userAgent.match(/Mac/i)}isWidthMobile(){return window.innerWidth<768}isBrowserIE(){return this.userAgent.includes("MSIE")||this.userAgent.match(/Trident.*rv\:11\./)}hasHover(){return!this.isDeviceMobileOrTablet()}isDeviceMobileOrTablet(e=""){let t=!1;var r;return r=e||this.userAgent,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(t=!0),t}resetUserAgent(e){const t=e||window;this.userAgent=t.navigator.userAgent||t.navigator.vendor||t.opera}};t.default=s},function(e,t,r){"use strict";let s,n,i,o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.RatingShape=t.DateSeparator=t.DateOrder=t.SmileyScalePossibleAnswers=t.SurveyQuestionAnswerType=void 0,t.SurveyQuestionAnswerType=s,function(e){e.single="single",e.multiple="multiple",e.text="text",e.smileyScale="smiley_scale",e.date="date",e.rating="rating",e.dropdown="dropdown_list",e.matrix="matrix",e.ranking="ranking"}(s||(t.SurveyQuestionAnswerType=s={})),t.SmileyScalePossibleAnswers=n,function(e){e.verySad="Extremely unsatisfied",e.sad="Unsatisfied",e.neutral="Neutral",e.happy="Happy",e.veryHappy="Extremely happy"}(n||(t.SmileyScalePossibleAnswers=n={})),t.DateOrder=i,function(e){e.YMD="YMD",e.MDY="MDY",e.DMY="DMY"}(i||(t.DateOrder=i={})),t.DateSeparator=o,function(e){e.dash="-",e.slash="/",e.dot="."}(o||(t.DateSeparator=o={})),t.RatingShape=a,function(e){e.hearts="hearts",e.stars="stars",e.thumbs="thumbs"}(a||(t.RatingShape=a={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retarget=v,t.triggerSurveyByApi=f,t.surveyAPIActions=void 0;var s=c(r(70)),n=r(1),i=r(154),o=r(16),a=r(23),u=c(r(17)),l=r(7);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){p(e,t,r[t])}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v({surveyApiState:e,backendData:t,surveyState:r,visitor:n},i={}){r.survey||s.default.findSurveyToDisplay({triggers:i,surveysTriggeredByApi:e.surveysTriggeredByApi,audiences:t.audiences,surveys:t.surveys,integrations:t.integrations,visit:u.default.get(),visitor:n})}function f({surveyApiState:e,backendData:t,surveyState:r,visitor:c},p,v={}){const f=t.surveys.find(e=>e.id===p);if(!f)return;const _=d({},f);if(v.forceDisplay)return void n.store.action(o.setSurvey)(_);v.displayMethod?(_.appear_method=(0,i.appearMethodParse)(v.displayMethod),v.displayOptions&&v.displayOptions.delay&&(_.display_delay=v.displayOptions.delay),v.displayOptions&&v.displayOptions.scrolledPercentage&&(_.display_scroll=v.displayOptions.scrolledPercentage)):_.appear_method=l.AppearMethod.immediately;const y=[...e.surveysTriggeredByApi,_];a.TargetingTriggersInstance.startTargeting([...y,...t.surveys].filter(s.default.filterUniqueSurveys)),n.store.setState({surveyApiState:d({},e,{surveysTriggeredByApi:y})}),r.survey||s.default.findSurveyToDisplay({triggers:{},surveysTriggeredByApi:y,audiences:t.audiences,surveys:t.surveys,integrations:t.integrations,visit:u.default.get(),visitor:c})}const _={retarget:v,triggerSurveyByApi:f};t.surveyAPIActions=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyboardClick=void 0;t.keyboardClick=(e,t,r={})=>{"Enter"!==e.key&&" "!==e.key||(r.preventDefault&&e.preventDefault(),r.stopPropagation&&e.stopPropagation(),t())}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTabId=b,t.setPreview=function(e,t){a.store.setState({isPreview:t})},t.initServices=async function(e){const t=new u.default;await t.init(e);const r=new l.default;await r.init(t),a.store.setState({storageService:t,backendService:r}),await(0,f.migrateToIDB)(e)},t.initVisitor=async function(e){const{storageService:t}=a.store.getState();let r=y({},p.emptyVisitor,{uuid:(0,v.v4)()});if(e===m.normal){const e=await t.get({table:d.StorageTables.all,key:d.StorageTableKeys.visitor});e&&e.uuid&&(r=e)}a.store.action(c.saveVisitor)(r),a.store.action(c.addNewVisit)()},t.actions=function(){return y({},o.surveyAPIActions,i.backendDataActions,n.surveyStateActions,s.apiActions,c.visitorActions,{setTabId:b})},t.InitVisitorMode=void 0;var s=r(40),n=r(16),i=r(23),o=r(13),a=r(1),u=_(r(68)),l=_(r(140)),c=r(8),d=r(34),p=r(29),v=r(32),f=r(142);function _(e){return e&&e.__esModule?e:{default:e}}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){h(e,t,r[t])}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){a.store.setState({tabId:t})}let m;t.InitVisitorMode=m,function(e){e[e.kiosk=0]="kiosk",e[e.normal=1]="normal"}(m||(t.InitVisitorMode=m={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTheme=S,t.setSurveyPoint=k,t.setSurvey=P,t.navigateBackward=T,t.navigateForward=O,t.finish=M,t.hideOverlay=I,t.toggleMinimize=C,t.close=j,t.setSubmitButtonPresent=E,t.surveyStateActions=t.FinishMode=t.refreshTimeInPreview=void 0;var s=r(7),n=r(1),i=g(r(11)),o=r(40),a=g(r(48)),u=r(13),l=r(120),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(41)),d=g(r(22)),p=r(30),v=g(r(27)),f=g(r(17)),_=r(32),y=r(15),h=r(8),b=r(24),m=r(42);function g(e){return e&&e.__esModule?e:{default:e}}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){x(e,t,r[t])}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){const r=e.backendData.themes.find(e=>e.id===t.theme_id);r&&(n.store.setState({surveyState:w({},e.surveyState,{theme:r})}),a.default.reloadCss(r))}function k({surveyState:e},t,r){const{survey:s}=e;if(!s)return;const i=[...e.pointsDisplayed,{point:t}];let a=[...e.pointsForward];a=a.length&&a[0].point.id===t.id?a.slice(1):[];const u=i[i.length-2],l=u.point;i[i.length-2]=w({},u,{value:r}),n.store.setState({surveyState:w({},e,{pointsDisplayed:i,pointsForward:a,pointsAnswered:w({},e.pointsAnswered,{[l.id]:!0}),isSubmitButtonPresent:!1})}),n.store.action(o.surveyPointSeen)({surveyName:s.name,question:t.content})}function P(e,t,r={}){const a=w({},t);if(!(a.points&&a.points.length||(a.activated=!1,a.type!==s.SurveyType.TWS)))return;const u=a.points&&a.points.length?[{point:a.points[0]}]:[],c=!v.default.ruleFulfilled(a,f.default.get(),e.visitor);n.store.setState({surveyState:w({},e.surveyState,{survey:a,isMinimized:i.default.isWidthMobile()?a.run_minimalized_mobile:a.run_minimalized,pointsDisplayed:u,pointsForward:[],isFinished:!1,isOverlayActive:!!a.overlay,isSubmitButtonPresent:!1,isAlreadyAnswered:c})}),n.store.action(o.seen)({surveyId:a.id,surveyName:a.name});if(a.points&&a.points.length&&a.type===s.SurveyType.LinkSurvey&&d.default.params.aid&&!c&&!e.surveyState.isAnsweredByEmail||r.forceAnswerId){const e=r.forceAnswerId||d.default.params.aid,t=(0,p.getAnswerEvent)(e,a.points[0]);t&&(n.store.setState({surveyState:w({},n.store.getState().surveyState,{isAnsweredByEmail:!0})}),n.store.action(l.pointAnswer)(t))}n.store.action(S)(a)}function T({surveyState:e}){const t=e.pointsDisplayed.length;if(t<=1)return;const r=e.pointsDisplayed.slice(0,-1);n.store.setState({surveyState:w({},e,{pointsDisplayed:r,pointsForward:[e.pointsDisplayed[t-1],...e.pointsForward]})})}function O({surveyState:e}){if(!e.pointsForward.length)return;const t=[...e.pointsDisplayed,e.pointsForward[0]];n.store.setState({surveyState:w({},e,{pointsDisplayed:t,pointsForward:e.pointsForward.slice(1)})})}let A;function M({surveyState:e,isPreview:t},r=A.sendEvent){if(!e.survey)return;const i=e.pointsDisplayed[e.pointsDisplayed.length-1].point;if(i.id===e.triggeredPointPreview&&i.answer_type===b.CtaAnswerType.thankYouMessage)return;const o=e.survey.type===s.SurveyType.TWS;n.store.setState({surveyState:w({},e,{survey:o?null:e.survey,theme:o?null:e.theme,isFinished:!0,isSubmitButtonPresent:!1})}),function(e,t,r){t===A.sendEvent&&c.default.fireEvent(c.ApiEvents.surveyCompleted,{surveyId:e.id}),n.store.action(u.retarget)(),e.kiosk_enabled&&(setTimeout(()=>{(0,y.initVisitor)(y.InitVisitorMode.kiosk)},5e3),e.kiosk_refresh_enabled&&setTimeout(()=>{n.store.action(h.setVisitorAttributesFromURL)(),n.store.action(P)(e)},5010)),r&&setTimeout(()=>{n.store.action(P)(e)},3e3)}(e.survey,r,t)}function I({surveyState:e}){n.store.setState({surveyState:w({},e,{isOverlayActive:!1})})}function C({surveyState:e},t){n.store.setState({surveyState:w({},e,{isMinimized:t})}),e.survey&&(t?n.store.action(o.minimized)({surveyName:e.survey.name}):n.store.action(o.maximized)({surveyName:e.survey.name}))}function j({surveyState:e,isPreview:t,visitor:r}){if(n.store.setState({surveyState:w({},e,{survey:null,theme:null})}),!e.survey)return;e.survey.global_close_tags&&e.survey.global_close_tags.split(";").forEach(e=>{n.store.action(h.setVisitorTag)(e)});const s=e.pointsDisplayed.length+e.pointsForward.length===1,i=s?(0,_.v4)():e.responseUuid;if(s){const e=n.store.getState().surveyState;n.store.setState({surveyState:w({},e,{responseUuid:i})})}n.store.action(o.closed)({surveyName:e.survey.name,surveyId:e.survey.id,survey_point_id:e.pointsDisplayed[0].point.id,user_tag:e.survey.global_close_tags,response_uuid:i,visitor:(0,m.trimVisitor)(r)}),t&&setTimeout(()=>{n.store.action(P)(e.survey)},3e3)}function E({surveyState:e},t){n.store.setState({surveyState:w({},e,{isSubmitButtonPresent:t})})}t.refreshTimeInPreview=3e3,t.FinishMode=A,function(e){e[e.dontSendEvent=0]="dontSendEvent",e[e.sendEvent=1]="sendEvent"}(A||(t.FinishMode=A={}));const D={setSurveyPoint:k,setSurvey:P,navigateBackward:T,navigateForward:O,pointAnswer:l.pointAnswer,finish:M,hideOverlay:I,toggleMinimize:C,close:j,setTheme:S,setSubmitButtonPresent:E};t.surveyStateActions=D},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(67))&&s.__esModule?s:{default:s},i=r(25);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=new class{constructor(){o(this,"visit",void 0),this.visit={displayedSurveys:this.getDisplayedSurveys(),engaged:this.getEngaged(),language:window.navigator.language,user_agent:window.navigator.userAgent,referrerUrl:this.getAndSetReferrer(),initialUrl:this.getAndSetInitialUrl(),optimizelyState:window.optimizely&&window.optimizely.data&&window.optimizely.data.state,views:this.getViews(),answers:this.getAnswers()},this.setCurrentView()}get(){return this.visit}getAnswers(){return n.default.get(i.StorageKeysVisit.answers)||{}}getAnswer(e){return this.visit.answers[e]}getDisplayedSurveys(){return n.default.get(i.StorageKeysVisit.displayedSurveys)||[]}getAndSetReferrer(){let e=n.default.get(i.StorageKeysVisit.referrerUrl);return e||(e=document.referrer,n.default.set(i.StorageKeysVisit.referrerUrl,e)),e}getAndSetInitialUrl(){let e=n.default.get(i.StorageKeysVisit.initialUrl);return e||(e=this.getCurrentUrl(),n.default.set(i.StorageKeysVisit.initialUrl,e)),e}getCurrentUrl(){return document.location.toString().replace(document.location.protocol+"//","")}getViews(){return n.default.get(i.StorageKeysVisit.views)||[]}getEngaged(){return n.default.get(i.StorageKeysVisit.engaged)||!1}addAnswer(e,t){const r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){o(e,t,r[t])}))}return e}({},this.visit.answers);r[e]=t,this.visit.answers=r,n.default.set(i.StorageKeysVisit.answers,r)}setCurrentView(){this.visit.views.push(this.getCurrentUrl()),n.default.set(i.StorageKeysVisit.views,this.visit.views)}setEngaged(){this.visit.engaged=!0,n.default.set(i.StorageKeysVisit.engaged,!0)}addDisplayedSurvey(e){const t=this.getDisplayedSurveys(),r={surveyId:e,timestamp:(new Date).getTime()},s=t.findIndex(t=>(t.surveyId||t)===e);-1!==s?t[s]=r:t.push(r),n.default.set(i.StorageKeysVisit.displayedSurveys,t),this.visit.displayedSurveys=t}resetVisit(){this.visit.answers={},this.visit.views=[],this.visit.displayedSurveys=[],this.visit.engaged=!1,n.default.remove(i.StorageKeysVisit.engaged),n.default.remove(i.StorageKeysVisit.answers),n.default.remove(i.StorageKeysVisit.views),n.default.remove(i.StorageKeysVisit.displayedSurveys),this.setCurrentView()}};t.default=a},function(e,t,r){var s=r(0);function n(e,t){for(var r in t)e[r]=t[r];return e}function i(e){this.getChildContext=function(){return{store:e.store}}}i.prototype.render=function(e){return e.children&&e.children[0]||e.children},t.connect=function(e,t){var r;return"function"!=typeof e&&("string"==typeof(r=e||{})&&(r=r.split(/\s*,\s*/)),e=function(e){for(var t={},s=0;s<r.length;s++)t[r[s]]=e[r[s]];return t}),function(r){function i(i,o){var a=this,u=o.store,l=e(u?u.getState():{},i),c=t?function(e,t){"function"==typeof e&&(e=e(t));var r={};for(var s in e)r[s]=t.action(e[s]);return r}(t,u):{store:u},d=function(){var t=e(u?u.getState():{},i);for(var r in t)if(t[r]!==l[r])return l=t,a.setState({});for(var s in l)if(!(s in t))return l=t,a.setState({})};this.componentWillReceiveProps=function(e){i=e,d()},this.componentDidMount=function(){u.subscribe(d)},this.componentWillUnmount=function(){u.unsubscribe(d)},this.render=function(e){return s.h(r,n(n(n({},c),e),l))}}return(i.prototype=new s.Component).constructor=i}},t.Provider=i},function(e,t,r){"use strict";let s,n,i,o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.FilterName=t.VisitSourceType=t.LoggedInStatus=t.Device=t.FilterItemType=void 0,t.FilterItemType=s,function(e){e.exact="exact",e.any="any"}(s||(t.FilterItemType=s={})),t.Device=n,function(e){e.all="All",e.mobile="Mobile",e.desktop="Desktop"}(n||(t.Device=n={})),t.LoggedInStatus=i,function(e){e.identified="identified",e.unidentified="unidentified"}(i||(t.LoggedInStatus=i={})),t.VisitSourceType=o,function(e){e.search="search",e.referral="referral",e.direct="direct",e.utm="utm"}(o||(t.VisitSourceType=o={})),t.FilterName=a,function(e){e.attributes="attributes",e.browser="browser",e.cookies="cookies",e.device="device",e.languages="languages",e.loggedInStatus="logged_in_status",e.operatingSystem="operating_system",e.optimizely="optimizely",e.tags="tags",e.visitDepth="visit_depth",e.visitedUrls="visited_urls",e.visitFrequency="visit_frequency",e.visitSource="visit_source"}(a||(t.FilterName=a={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=t.CheckboxColors=t.CheckboxDisplay=void 0;var s,n=r(0),i=r(14),o=(s=r(181))&&s.__esModule?s:{default:s};let a,u;t.CheckboxDisplay=a,function(e){e[e.circle=0]="circle",e[e.square=1]="square"}(a||(t.CheckboxDisplay=a={})),t.CheckboxColors=u,function(e){e[e.bw=0]="bw",e[e.nestedInBw=1]="nestedInBw",e[e.chat=2]="chat"}(u||(t.CheckboxColors=u={}));t.Checkbox=e=>{const{checkboxClasses:t,tickClasses:r}=o.default.getClasses(e);return(0,n.h)("div",{tabIndex:0,role:"button",className:t,onClick:t=>e.onClick(t),onKeyDown:t=>(0,i.keyboardClick)(t,()=>e.onKeyboardClick(t),{preventDefault:!0,stopPropagation:!0})},e.isSelected&&(0,n.h)("span",{className:r}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(r(44)),n=o(r(67)),i=r(25);function o(e){return e&&e.__esModule?e:{default:e}}class a{static log(e){if(n.default.get(i.StorageKeysError.errorSent))return;n.default.set(i.StorageKeysError.errorSent,!0);const t={message:e.message,stack:e.stack},r=window._svc||{};(0,s.default)("https://respondent.survicate.com").post(`workspaces/${r.workspaceKey}/logs.json`,{user_agent:window.navigator.userAgent,url:document.location.toString(),error:t})}static isSurvicateError(e=""){return!e.match(/https:\/\/(?!surveys)[^]*Generator\._invoke/)&&(e.includes("widget_core")||e.includes("page_core"))}static shouldLogError(e){return!(!e||!e.stack)&&(a.isSurvicateError(e.stack)&&!n.default.get(i.StorageKeysError.errorSent)&&![/Network Error/,/Navigating/,/quota/,/invalid security context/].some(t=>!!e.message.match(t)))}static initGlobalErrorsWatch(){window.addEventListener("error",(function e(t){a.shouldLogError(t.error)&&(a.log(t.error),window.removeEventListener("error",e))})),window.addEventListener("unhandledrejection",(function e(t){t.reason&&t.reason.stack&&a.shouldLogError(t.reason)&&(a.log(t.reason),window.removeEventListener("unhandledrejection",e))}))}}t.default=a},function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReservedParams=void 0,t.ReservedParams=s,function(e){e.aid="aid",e.multiple_responses="multiple_responses",e.sid="sid",e.uid="uid",e.p="p"}(s||(t.ReservedParams=s={}));var n=new class{constructor(){var e,t,r;r={},(t="params")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,this.params=this.getParams()}getParams(){const e=window.location.search.substring(1);return e?this.parseParams(e):{}}parseParams(e){const t={};return e.split("&").forEach(e=>{const[r,s]=e.split("=");try{t[r]=decodeURIComponent(s)}catch(e){t[r]=unescape(s)}}),t}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSurveys=f,t.setAudiences=_,t.setThemes=y,t.setIntegrations=h,t.setWorkspaceKey=b,t.backendDataActions=t.IntegrationsServiceInstance=t.TargetingTriggersInstance=void 0;var s=r(1),n=l(r(48)),i=r(10),o=r(13),a=l(r(155)),u=l(r(159));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){d(e,t,r[t])}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=new a.default;t.TargetingTriggersInstance=p;const v=new u.default;function f(e,t){s.store.setState({backendData:c({},e.backendData,{surveys:t})}),p.startTargeting(t),s.store.action(o.retarget)({force:!0})}function _(e,t){s.store.setState({backendData:c({},e.backendData,{audiences:t})})}function y(e,t=[]){s.store.setState({backendData:c({},e.backendData,{themes:t.map(e=>e.type===i.ThemeType.classic?e:n.default.extendTheme(e))})})}function h(e,t){s.store.setState({backendData:c({},e.backendData,{integrations:t})}),v.init(t)}function b(e,t){s.store.setState({backendData:c({},e.backendData,{workspaceKey:t})})}t.IntegrationsServiceInstance=v;const m={setSurveys:f,setAudiences:_,setThemes:y,setIntegrations:h,setWorkspaceKey:b};t.backendDataActions=m},function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.CtaAnswerType=void 0,t.CtaAnswerType=s,function(e){e.button="button_next",e.thankYouMessage="empty",e.buttonLink="button_link",e.redirect="redirect_timeout",e.social="social_cta"}(s||(t.CtaAnswerType=s={}))},function(e,t,r){"use strict";let s,n,i,o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.StorageKeysError=t.StorageKeysSingleTab=t.StorageKeysQueue=t.StorageKeysVisitor=t.StorageKeysVisit=void 0,t.StorageKeysVisit=s,function(e){e.referrerUrl="visitReferrerUrl",e.initialUrl="visitInitialUrl",e.displayedSurveys="visitDisplayedSurveys",e.views="visitViews",e.engaged="visitEngaged",e.answers="visitAnswers"}(s||(t.StorageKeysVisit=s={})),t.StorageKeysVisitor=n,function(e){e.uuid="visitorUuid",e.attributes="visitorAttributes",e.customAttributes="visitorCustomAttributes",e.engagedSurveys="visitorEngagedSurveys",e.displayedSurveys="visitorDisplayedSurveys",e.identities="visitorIdentities",e.tags="visitorTags",e.visitsCount="visitsCount"}(n||(t.StorageKeysVisitor=n={})),t.StorageKeysQueue=i,function(e){e.isRequestProcessing="isRequestProcessing",e.savedVisitor="visitorSaved"}(i||(t.StorageKeysQueue=i={})),t.StorageKeysSingleTab=o,function(e){e.state="singleTabState",e.tabId="singleTabId"}(o||(t.StorageKeysSingleTab=o={})),t.StorageKeysError=a,function(e){e.errorSent="errorSent"}(a||(t.StorageKeysError=a={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Injectable=void 0;var s=r(0);t.Injectable=({content:e,className:t="",inline:r=!1})=>r?(0,s.h)("span",{className:t,dangerouslySetInnerHTML:{__html:e}}):(0,s.h)("div",{className:t,dangerouslySetInnerHTML:{__html:e}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InteractionType=void 0;var s,n=r(7),i=(s=r(21))&&s.__esModule?s:{default:s};let o;t.InteractionType=o,function(e){e[e.none=0]="none",e[e.expired=1]="expired",e[e.notExpired=2]="notExpired"}(o||(t.InteractionType=o={}));class a{static ruleFulfilled(e,t,r){if(!e||e.kiosk_enabled)return!0;const s=this.visitorEngagedSurvey(e,r);return s!==o.notExpired&&((s===o.expired||!(e.display_per===n.DisplayPer.visit&&this.displayedSurveyInVisit(e,t)===o.notExpired||e.display_per===n.DisplayPer.visitor&&this.displayedSurveyForVisitor(e,r)===o.notExpired))&&(!e.display_not_engaged||!this.engagedAnySurveyInVisit(t)))}static visitorEngagedSurvey(e,t){return a.hasActiveInteraction(e,t.engagedSurveys)}static displayedSurveyInVisit(e,t){return a.hasActiveInteraction(e,t.displayedSurveys,!0)}static displayedSurveyForVisitor(e,t){return a.hasActiveInteraction(e,t.displayedSurveys,!0)}static hasActiveInteraction(e,t,r=!1){if(!t||!e)return e||i.default.log({message:new Error("How this got here?!").stack||"How this empty survey got here ;o",stack:"hasActiveInteraction"}),o.none;const s=t.find(t=>(t.surveyId||t)===e.id);return s?e.settings&&e.settings.recurring&&!r&&s.timestamp+1e3*e.settings.recurring_period<=Date.now()?o.expired:o.notExpired:o.none}static hasNotExpiredInteraction(e,t){return a.hasActiveInteraction(e,t)!==o.notExpired}static engagedAnySurveyInVisit(e){return e.engaged}}t.default=a},function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationNames=void 0,t.IntegrationNames=s,function(e){e.Marketo="marketo",e.Hubspot="hubspot",e.Pardot="pardot",e.GoogleAnalytics="google_analytics",e.Segment="segment",e.Woopra="woopra",e.SessionCam="sessioncam",e.Fullstory="fullstory",e.ABTesting="ab_testing",e.Optimizely="optimizely"}(s||(t.IntegrationNames=s={}))},function(e,t,r){"use strict";let s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.emptyVisitor=t.VisitorReservedAttributes=t.SurveyInteractionType=void 0,t.SurveyInteractionType=s,function(e){e.engaged="engagedSurveys",e.displayed="displayedSurveys"}(s||(t.SurveyInteractionType=s={})),t.VisitorReservedAttributes=n,function(e){e.first_name="first_name",e.last_name="last_name",e.email="email",e.organization="organization",e.department="department",e.job_title="job_title",e.phone="phone",e.website="website",e.country="country",e.address_one="address_one",e.address_two="address_two",e.city="city",e.state="state",e.zip="zip",e.fax="fax",e.annual_revenue="annual_revenue",e.employees="employees"}(n||(t.VisitorReservedAttributes=n={}));t.emptyVisitor={uuid:"",attributes:{},customAttributes:{},engagedSurveys:[],displayedSurveys:[],tags:[],identities:{},visitsCount:0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAnswerEvent=t.getNpsAnswerEvent=t.getButtonNextAnswerEvent=t.getSingleChoiceAnswerEvent=t.getSmileyScaleAnswerEvent=void 0;var s=r(12),n=r(31),i=r(39),o=r(24);const a=({answer:e,point:t})=>({answers:[{survey_question_answer_id:e.id,user_tag:(0,n.combineUserTags)(e.user_tag,t.user_tag),nextSurveyPointId:e.next_survey_point_id||t.next_survey_point_id}],value:e,textResponse:e.possible_answer,anonymizedTextResponse:e.possible_answer});t.getSmileyScaleAnswerEvent=a;const u=({answer:e,point:t,comment:r=""})=>({answers:[{survey_question_answer_id:e.id,user_tag:(0,n.combineUserTags)(e.user_tag,t.user_tag),nextSurveyPointId:e.next_survey_point_id||t.next_survey_point_id,content:r}],textResponse:e.possible_answer,anonymizedTextResponse:e.possible_answer,value:{answer:e,comment:r||""}});t.getSingleChoiceAnswerEvent=u;const l=({point:e})=>{const t=e.cta_params?e.cta_params.user_tag:e.settings.user_tag;return{answers:[{user_tag:(0,n.combineUserTags)(e.user_tag,t||""),nextSurveyPointId:e.next_survey_point_id}],textResponse:"",anonymizedTextResponse:""}};t.getButtonNextAnswerEvent=l;const c=({value:e,point:t})=>{let r=null,s=null;const n=t.answers?t.answers[0]:t.settings;return e<=6?(r=n.first_range_goto_id,s=n.first_range_tag):e<=8?(r=n.second_range_goto_id,s=n.second_range_tag):(r=n.third_range_goto_id,s=n.third_range_tag),{answers:[{nextSurveyPointId:r,user_tag:s,content:""+e}],value:e,textResponse:""+e,anonymizedTextResponse:""+e}};t.getNpsAnswerEvent=c;t.getAnswerEvent=(e,t)=>{const r=parseInt(e,10);let n;switch(t.answer_type){case s.SurveyQuestionAnswerType.smileyScale:return n=t.answers.find(e=>e.id===r),n?a({answer:n,point:t}):null;case s.SurveyQuestionAnswerType.single:return n=t.answers.find(e=>e.id===r),n?u({answer:n,point:t}):null;case i.NpsAnswerType.nps:return 0<=r&&r<=10?c({value:r,point:t}):null;case o.CtaAnswerType.button:return l({point:t})}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineUserTags=void 0;t.combineUserTags=(e,t)=>e&&t?`${e};${t}`:e||t||""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return o.default}});var s=a(r(88)),n=a(r(89)),i=a(r(91)),o=a(r(92));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{return JSON.parse(e)}catch(t){return e}}},function(e,t,r){"use strict";let s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.StorageTableKeys=t.StorageTables=void 0,t.StorageTables=s,function(e){e.requests="requests",e.all="all"}(s||(t.StorageTables=s={})),t.StorageTableKeys=n,function(e){e.visitor="visitor"}(n||(t.StorageTableKeys=n={}))},function(e,t,r){"use strict";function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewHelpers=void 0;t.PreviewHelpers=class{static getChangedAnswers(e,t){const r=this.filterMissingAnswers(e,t),s=this.addMissingAnswers(e,r);return this.getModifiedAnswers(e.answers,s)}static filterMissingAnswers(e,t){const r=e.answers;return e.randomize_answers?t.filter(e=>r.some(t=>e.id===t.id)):r}static addMissingAnswers(e,t){const r=t,s=e.answers.filter(e=>!t.some(t=>t.id===e.id));return e.randomize_answers&&!e.randomize_except_last?(s.forEach(e=>{r.splice(Math.floor(Math.random()*r.length)+1,0,e)}),r):t.concat(s)}static getModifiedAnswers(e,t){return t.map(t=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}({},t,{possible_answer:e.find(e=>e.id===t.id).possible_answer}))}static reduceAnswers(e){return e.reduce((e,t)=>`${e}${t.possible_answer}${t.add_comment}${t.next_survey_point_id}`,"")}static reduceContactForm(e){const t=e.fields.reduce((e,t)=>`${e}${t.label}${t.required}`,"");let r,s;if(e.settings){const{consent:t,disclaimer:n,consent_text:i,disclaimer_text:o}=e.settings;r=t?i:"",s=n?o:""}return`${t}${r}${s}`}static reorderContactFormValues(e,t,r){return t.map(t=>{const s=r.findIndex(e=>e.id===t.id);return-1!==s?e[s]:""})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(33))&&s.__esModule?s:{default:s};const i=`survi::${(window._svc||{}).workspaceKey}::`;class o{static each(e){Object.keys(localStorage).forEach(t=>{const r=o.get(t,!0);e(r,t)})}static get(e,t=!1){const r=t?"":i;return(0,n.default)(localStorage.getItem(`${r}${e}`))}static set(e,t,r=!1){const s=r?"":i;return localStorage.setItem(`${s}${e}`,JSON.stringify(t))}static remove(e,t=!1){const r=t?"":i;return localStorage.removeItem(`${r}${e}`)}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLuminosity=t.getColorShade=t.separateRGB=void 0;const s=(e,t)=>t>0?Math.floor(e*(100-t)/100):Math.floor(255-(255-e)*(100+t)/100),n=e=>Math.min(Math.max(e,0),255),i=e=>{let t=e;4===e.length&&(t=`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`);return{R:parseInt(t.substring(1,3),16),G:parseInt(t.substring(3,5),16),B:parseInt(t.substring(5,7),16)}};t.separateRGB=i;t.getColorShade=(e,t)=>{let{R:r,G:o,B:a}=i(e);r=n(s(r,t)),o=n(s(o,t)),a=n(s(a,t));return`#${1===r.toString(16).length?"0"+r.toString(16):r.toString(16)}${1===o.toString(16).length?"0"+o.toString(16):o.toString(16)}${1===a.toString(16).length?"0"+a.toString(16):a.toString(16)}`};t.getLuminosity=e=>{const{R:t,G:r,B:s}=i(e);return 1-(t+r+s)/765}},function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.SurveyPointType=void 0,t.SurveyPointType=s,function(e){e.question="SurveyQuestion",e.nps="SurveyNps",e.form="SurveyForm",e.cta="SurveyCta"}(s||(t.SurveyPointType=s={}))},function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.NpsAnswerType=void 0,t.NpsAnswerType=s,function(e){e.nps="nps"}(s||(t.NpsAnswerType=s={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.answered=w,t.seen=x,t.closed=S,t.minimized=k,t.maximized=P,t.surveyPointSeen=T,t.visitorIdentified=O,t.apiActions=void 0;var s=r(72),n=h(r(17)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(41)),o=r(135),a=r(136),u=h(r(137)),l=r(49),c=r(38),d=r(1),p=r(13),v=h(r(27)),f=r(8),_=r(29),y=r(42);function h(e){return e&&e.__esModule?e:{default:e}}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){m(e,t,r[t])}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const g=e=>e.surveyState.survey?e.surveyState.survey.integrations:{};function w(e,t){d.store.action(f.setSurveyInteraction)({surveyId:t.surveyId,interactionType:_.SurveyInteractionType.engaged}),n.default.setEngaged(),n.default.addAnswer(t.surveyPointId,t.textResponse),e.backendService.addRequest(s.EndpointType.answered,(0,a.getAnsweredJsonPayload)(t,e.visitor),t.surveyId),i.default.fireEvent(i.ApiEvents.questionAnswered,(0,o.getQuestionAnsweredPayload)(t.answers,{answer_type:t.answerType,surveyId:t.surveyId,questionId:t.surveyPointId}));const r=g(e);if(t.pointType===c.SurveyPointType.form){const e={};t.answers.forEach(t=>{t.answer_type&&t.content&&(e[t.answer_type]=t.content)}),d.store.action(f.setVisitorAttributes)(e),u.default.pushEvent(l.IntegrationEventTypes.SurveyPointAnswered,b({},t,{contactForm:e}),r)}else u.default.pushEvent(l.IntegrationEventTypes.SurveyPointAnswered,t,r)}function x(e){const{survey:t}=e.surveyState;if(!t)return;const r={visitor:(0,y.trimVisitor)(e.visitor)};v.default.hasNotExpiredInteraction(t,e.visitor.displayedSurveys)&&(r.survey_first_seen=!0),e.backendService.addRequest(s.EndpointType.seen,r,t.id),d.store.action(f.setSurveyInteraction)({surveyId:t.id,interactionType:_.SurveyInteractionType.displayed}),n.default.addDisplayedSurvey(t.id),i.default.fireEvent(i.ApiEvents.surveyDisplayed,{surveyId:t.id});const o=g(e);u.default.pushEvent(l.IntegrationEventTypes.SurveySeen,{surveyName:t.name},o)}function S(e,t){d.store.action(f.setSurveyInteraction)({surveyId:t.surveyId,interactionType:_.SurveyInteractionType.engaged}),n.default.setEngaged(),e.backendService.addRequest(s.EndpointType.closed,b({},t),t.surveyId),i.default.fireEvent(i.ApiEvents.surveyClosed,{surveyId:t.surveyId});const r=g(e);u.default.pushEvent(l.IntegrationEventTypes.SurveyClosed,t,r),d.store.action(p.retarget)()}function k(e,t){const r=g(e);u.default.pushEvent(l.IntegrationEventTypes.SurveyMinimized,t,r)}function P(e,t){const r=g(e);u.default.pushEvent(l.IntegrationEventTypes.SurveyMaximized,t,r)}function T(e,t){const r=g(e);u.default.pushEvent(l.IntegrationEventTypes.SurveyPointSeen,t,r)}function O(e,t){const r=e.backendData.surveys.find(e=>e.id===t.surveyId),s=r&&r.integrations?r.integrations:{};u.default.pushEvent(l.IntegrationEventTypes.VisitorIdentified,t,s)}const A={answered:w,seen:x,closed:S,minimized:k,maximized:P,surveyPointSeen:T,visitorIdentified:O};t.apiActions=A},function(e,t,r){"use strict";function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ApiEvents=void 0,t.ApiEvents=n,function(e){e.questionAnswered="question_answered",e.surveyDisplayed="survey_displayed",e.surveyCompleted="survey_completed",e.surveyClosed="survey_closed"}(n||(t.ApiEvents=n={}));var i=new class{constructor(){s(this,"listeners",void 0),s(this,"lastEventId",0),this.listeners={[n.questionAnswered]:[],[n.surveyClosed]:[],[n.surveyCompleted]:[],[n.surveyDisplayed]:[]}}add(e,t){if(this.lastEventId+=1,!this.listeners[e])throw new Error("Event Listeners: Wrong event name.");return this.listeners[e].push({callback:t,id:this.lastEventId}),this.lastEventId}remove(e){const t=t=>t.id!==e;this.listeners[n.questionAnswered]=this.listeners[n.questionAnswered].filter(t),this.listeners[n.surveyDisplayed]=this.listeners[n.surveyDisplayed].filter(t),this.listeners[n.surveyCompleted]=this.listeners[n.surveyCompleted].filter(t),this.listeners[n.surveyClosed]=this.listeners[n.surveyClosed].filter(t)}fireEvent(e,t){this.listeners[e].forEach(({callback:r})=>{const{surveyId:s,questionId:i,answer:o}=t;e===n.questionAnswered&&i&&o?r(s,i,o):r(s)})}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSeenPayload=t.getClosedPayload=t.getAnsweredPayload=t.trimVisitor=void 0;t.trimVisitor=e=>({uuid:e.uuid,attributes:e.attributes,custom_attributes:e.customAttributes,identities:e.identities,tags:e.tags});t.getAnsweredPayload=(e,t)=>{const{visit_points:r,visitor:s,survey_point_id:n,overwrite:i,integrations:o}=e,a={visit_points:(u=r,u.map(e=>{const t={completion_rate:e.completion_rate,finished:e.finished||void 0,user_tag:e.user_tag||void 0};return Object.keys(e).forEach(r=>{e[r]&&(t[r]=e[r])}),t})),survey_point_id:n,visit:t,visitor:s,integrations:o||void 0,response_uuid:e.response_uuid};var u;return i&&(a.overwrite=!0),a};t.getClosedPayload=(e,t)=>{const{visitor:r}=e;return{survey_point_id:e.survey_point_id,user_tag:e.user_tag,response_uuid:e.response_uuid,visit:t,visitor:r}};t.getSeenPayload=e=>{const{visitor:t}=e;return{visitor:t,survey_first_seen:e.survey_first_seen||void 0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;for(var s=[],n=0;n<256;++n)s.push((n+256).toString(16).substr(1));var i=function(e,t){var r=t||0;return(s[e[r+0]]+s[e[r+1]]+s[e[r+2]]+s[e[r+3]]+"-"+s[e[r+4]]+s[e[r+5]]+"-"+s[e[r+6]]+s[e[r+7]]+"-"+s[e[r+8]]+s[e[r+9]]+"-"+s[e[r+10]]+s[e[r+11]]+s[e[r+12]]+s[e[r+13]]+s[e[r+14]]+s[e[r+15]]).toLowerCase()};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(97))&&s.__esModule?s:{default:s};t.default=e=>n.default.create({baseURL:e,headers:{"Content-Type":"application/json"}})},function(e,t,r){"use strict";(function(t){var s=r(4),n=r(102),i={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t)&&(a=r(58)),a),transformRequest:[function(e,t){return n(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e)?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):s.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),s.forEach(["post","put","patch"],(function(e){u.headers[e]=s.merge(i)})),e.exports=u}).call(this,r(101))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((299*(t=e,parseInt(s(t).substring(0,2),16))+597*(e=>parseInt(s(e).substring(2,4),16))(e)+114*(e=>parseInt(s(e).substring(4,6),16))(e))/1e3>130)return"#000000";var t;return"#ffffff"};const s=e=>"#"===e.charAt(0)?e.substring(1,7):e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomizeAnswers=void 0;var s=r(180);t.randomizeAnswers=e=>{const{answers:t,randomize_answers:r,randomize_except_last:n}=e;return r?n?[...(0,s.shuffleArray)(t.slice(0,-1)),t[t.length-1]]:(0,s.shuffleArray)(t):t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MediaSize=void 0;var s=r(10),n=a(r(46)),i=a(r(69)),o=a(r(128));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){l(e,t,r[t])}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let c;t.MediaSize=c,function(e){e[e.mobile=767]="mobile",e[e.tablet=1080]="tablet"}(c||(t.MediaSize=c={}));class d{static getCssFromRules(e){let t="";return Object.keys(e).forEach(r=>{t+=`#survicate-box .${r}{`,e[r].forEach(({propertyName:e,value:r})=>{t+=`${e}: ${r};`}),t+="}"}),t}static addImportantsToCustomCss(e=""){if("string"!=typeof e)return"";const t=e.replace(/\s+!important;/g,";"),r=[];let s=!1,n=0;for(let e=0;e<t.length;e+=1){const i=e=>e+6<t.length&&"b"===t[e+1]&&"base64"===t.substring(e+1,e+7),o=e=>"@"===t[e];!s&&o(e)&&(s=!0),s?("{"===t[e]&&(n+=1),"}"===t[e]&&(n-=1,0===n&&(s=!1))):";"!==t[e]||i(e)||r.push(e)}let i=0,o="";return r.forEach(e=>{o=`${o}${t.substring(i,e)} !important`,i=e}),o=`${o}${t.substring(i)}`,o}static getCss(e){const t={},r=(e,r,s)=>{t[e]||(t[e]=[]),t[e].push({propertyName:r,value:s})};i.default.setMainColors(r,e.color_scheme);let n="";switch(e.type){case s.ThemeType.simple:o.default.addSimpleThemeCss(r,e.color_scheme),n+=o.default.customSimpleThemeCss(e.color_scheme);break;case s.ThemeType.chat:o.default.addChatThemeCss(r,e.color_scheme);break;default:case s.ThemeType.classic:o.default.addClassicThemeCss(r,e.color_scheme)}return this.getCssFromRules(t)+n+this.addImportantsToCustomCss(e.custom_css)}static getChatThemeColors(e){return u({},s.chatThemeDefaultColors,{main_color:e,bg_submit:e,font_submit:(0,n.default)(e)})}static getSimpleThemeColors(e){return u({},s.simpleThemeDefaultColors,{main_color:e,bg_submit:e})}static extendTheme(e){const{main_color:t,bg_answer:r}=e.color_scheme;return e.type===s.ThemeType.chat?u({},e,{color_scheme:this.getChatThemeColors(t)}):u({},e,{color_scheme:this.getSimpleThemeColors(t||r)})}static reloadCss(e){let t=document.getElementById("survicate-core-theme");t||(t=document.createElement("style"),t.id="survicate-core-theme",document.head.appendChild(t)),t.textContent=d.getCss(e)}}t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventNamesMap=t.IntegrationEventTypes=void 0;var s=r(28),n=r(50),i=r(51),o=r(73);let a;t.IntegrationEventTypes=a,function(e){e.SurveyMinimized="SurveyMinimized",e.SurveyClosed="SurveyClosed",e.SurveyMaximized="SurveyMaximized",e.SurveySeen="SurveySeen",e.SurveyPointAnswered="SurveyPointAnswered",e.SurveyPointSeen="SurveyPointSeen",e.VisitorIdentified="VisitorIdentified"}(a||(t.IntegrationEventTypes=a={}));const u={[s.IntegrationNames.Woopra]:{[a.SurveySeen]:n.WoopraEvents.SurveySeen,[a.SurveyPointAnswered]:n.WoopraEvents.SurveyPointAnswered},[s.IntegrationNames.Segment]:{[a.SurveySeen]:i.SegmentEvents.SurveySeen,[a.SurveyPointAnswered]:i.SegmentEvents.SurveyPointAnswered},[s.IntegrationNames.Fullstory]:{[a.SurveyPointAnswered]:o.FullStoryEvents.SurveyPointAnswered,[a.VisitorIdentified]:o.FullStoryEvents.VisitorIdentified}};t.EventNamesMap=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WoopraEvents=void 0;var s=r(38);let n;t.WoopraEvents=n,function(e){e.SurveySeen="survicate survey shown",e.SurveyPointAnswered="survicate survey answered"}(n||(t.WoopraEvents=n={}));class i{constructor(){var e,t,r;r=!1,(t="isEnabledPerWorkspace")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}init(){this.isEnabledPerWorkspace=!0}pushEvent(e,t){if(window.woopra&&this.isEnabledPerWorkspace){if(e===n.SurveyPointAnswered){if("contactForm"in t)return void i.identify(t.contactForm);i.trackAnswered(t)}e===n.SurveySeen&&i.trackSurveySeen(t.surveyName)}}static identify(e){window.woopra.identify(e).push()}static trackAnswered(e){e.pointType!==s.SurveyPointType.question?window.woopra.track(n.SurveyPointAnswered,{survey:e.surveyName,question:e.question,answer:e.textResponse,type:e.pointType,user_tag:e.user_tag}):window.woopra.track(n.SurveyPointAnswered,{survey:e.surveyName,question:e.question,answer:e.textResponse,type:e.pointType,answer_type:e.answer_type})}static trackSurveySeen(e){window.woopra.track(n.SurveySeen,{survey:e})}}var o=new i;t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SegmentEvents=void 0;var s=r(38);let n;t.SegmentEvents=n,function(e){e.SurveySeen="survicate_survey_shown",e.SurveyPointAnswered="survicate_survey_answered"}(n||(t.SegmentEvents=n={}));class i{constructor(){var e,t,r;r=!1,(t="isEnabledPerWorkspace")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}init(){this.isEnabledPerWorkspace=!0}pushEvent(e,t){if(window.analytics&&this.isEnabledPerWorkspace){if(e===n.SurveyPointAnswered){if("contactForm"in t)return void i.identify(t.contactForm);i.trackAnswered(t)}e===n.SurveySeen&&i.trackSurveySeen(t.surveyName)}}static identify(e){window.analytics.identify(e)}static trackAnswered(e){e.pointType!==s.SurveyPointType.question?window.analytics.track(n.SurveyPointAnswered,{survey:e.surveyName,question:e.question,answer:e.textResponse,type:e.pointType,user_tag:e.user_tag}):window.analytics.track(n.SurveyPointAnswered,{survey:e.surveyName,question:e.question,answer:e.textResponse,type:e.pointType,answer_type:e.answer_type})}static trackSurveySeen(e){window.analytics.track(n.SurveySeen,{survey:e})}}var o=new i;t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_ID_TRAIT=t.PROVIDERS_TRAITS_WHITELIST=t.IdentityProvidersArray=t.Providers=void 0;var s=r(28);let n;t.Providers=n,function(e){e.Intercom="intercom",e.Api="api",e.Salesforce="salesforce"}(n||(t.Providers=n={}));const i=[n.Intercom,n.Api,n.Salesforce,s.IntegrationNames.Marketo,s.IntegrationNames.Hubspot,s.IntegrationNames.Pardot];t.IdentityProvidersArray=i;t.PROVIDERS_TRAITS_WHITELIST={api:["id"],intercom:["user_id"],salesforce:["contact_id","lead_id","account_id","case_id","case_number","event_id","opportunity_id","contract_id","event_name","event_location"],marketo:["lead_id"],pardot:["prospect_id"]};t.USER_ID_TRAIT="user_id"},function(e,t,r){var s,n;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(n="function"==typeof(s=i)?s.call(t,r,t,e):s)||(e.exports=n),!0,e.exports=i(),!!0){var o=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=o,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var s in r)t[s]=r[s]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(s){function n(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},n.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var o=JSON.stringify(r);/^[\{\[]/.test(o)&&(r=o)}catch(e){}r=s.write?s.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in i)i[u]&&(a+="; "+u,!0!==i[u]&&(a+="="+i[u].split(";")[0]));return document.cookie=t+"="+r+a}}function o(e,r){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var a=i[o].split("="),u=a.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(a[0]);if(u=(s.read||s)(u,l)||t(u),r)try{u=JSON.parse(u)}catch(e){}if(n[l]=u,e===l)break}catch(e){}}return e?n[e]:n}}return n.set=i,n.get=function(e){return o(e,!1)},n.getJSON=function(e){return o(e,!0)},n.remove=function(t,r){i(t,"",e(r,{expires:-1}))},n.defaults={},n.withConverter=r,n}((function(){}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=e=>e?{ascending:(t,r)=>t[e]-r[e],descending:(t,r)=>r[e]-t[e]}:{ascending:(e,t)=>e-t,descending:(e,t)=>t-e};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!s)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(n)};var s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){function s(e,s,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof s&&(s=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(s)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(s)||16!==s.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=r(s.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var u=0;u<16;++u)i[o+u]=a[u];return i}return(0,n.default)(a)}try{s.name=e}catch(e){}return s.DNS=i,s.URL=o,s},t.URL=t.DNS=void 0;var s,n=(s=r(43))&&s.__esModule?s:{default:s};var i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=i;var o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return e.apply(t,r)}}},function(e,t,r){"use strict";var s=r(4),n=r(103),i=r(105),o=r(106),a=r(107),u=r(59);e.exports=function(e){return new Promise((function(t,l){var c=e.data,d=e.headers;s.isFormData(c)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",f=e.auth.password||"";d.Authorization="Basic "+btoa(v+":"+f)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?o(p.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};n(t,l,s),p=null}},p.onerror=function(){l(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},s.isStandardBrowserEnv()){var _=r(108),y=(e.withCredentials||a(e.url))&&e.xsrfCookieName?_.read(e.xsrfCookieName):void 0;y&&(d[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&s.forEach(d,(function(e,t){void 0===c&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),l(e),p=null)})),void 0===c&&(c=null),p.send(c)}))}},function(e,t,r){"use strict";var s=r(104);e.exports=function(e,t,r,n,i){var o=new Error(e);return s(o,t,r,n,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function s(e){this.message=e}s.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},s.prototype.__CANCEL__=!0,e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCompletionRate=void 0;t.getCompletionRate=e=>{const t=e.pointsDisplayed.length;if(!t)return 0;const{point:r}=e.pointsDisplayed[t-1];return Math.round(t/(r.max_path+t)*100)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t){let r=!1;return(...s)=>{const n=()=>{e.call(null,s),r=!0,setTimeout(()=>{r=!1},t)};r?setTimeout(()=>{r||n()},t):n()}}},function(e,t,r){"use strict";let s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.FormAnswerType=t.FormFieldTypes=void 0,t.FormFieldTypes=s,function(e){e.firstName="first_name",e.lastName="last_name",e.email="email",e.organization="organization",e.job="job_title",e.phone="phone",e.website="website",e.comment="comment",e.addressOne="address_one",e.addressTwo="address_two",e.city="city",e.state="state",e.zip="zip",e.fax="fax",e.annual_revenue="annual_revenue",e.employees="employees",e.industry="industry",e.confirmation="confirmation",e.security_info="security_info"}(s||(t.FormFieldTypes=s={})),t.FormAnswerType=n,function(e){e.form="form"}(n||(t.FormAnswerType=n={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>new Promise(t=>setTimeout(t,e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(34),i=(s=r(21))&&s.__esModule?s:{default:s},o=r(32);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(e){a(this,"requests",{}),a(this,"storage",void 0),this.storage=e}async init(){await this.syncRequests()}async syncRequests(){return new Promise(e=>{this.storage.getAll(n.StorageTables.requests).then(t=>{this.requests=t,e()}).catch(t=>{i.default.log(t),e()})})}async add(e){await this.syncRequests();const t=(0,o.v4)(),r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){a(e,t,r[t])}))}return e}({},e,{key:t});return this.requests.push(r),await this.storage.put({table:n.StorageTables.requests,key:t},r),t}async getAll(){return await this.syncRequests(),this.requests}async remove(e){await this.storage.remove({table:n.StorageTables.requests,key:e}),await this.syncRequests()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(33))&&s.__esModule?s:{default:s};const i=`survi::${(window._svc||{}).workspaceKey}::`;t.default=class{static get(e){return(0,n.default)(sessionStorage.getItem(i+e))}static set(e,t){sessionStorage.setItem(i+e,JSON.stringify(t))}static remove(e){sessionStorage.removeItem(i+e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(r(118)),n=i(r(119));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(){var e,t,r;r=void 0,(t="storage")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}async init(e){return new Promise(t=>{this.initIDB(e).then(()=>{t()}).catch(async()=>{this.storage=new n.default,await this.storage.init(`survi::${e}::`),t()})})}async initIDB(e){return this.storage=new s.default,this.storage.init(`survi::${e}::`)}async get(e){return this.storage.get(e)}async getAll(e){return this.storage.getAll(e)}async put(e,t){return this.storage.put(e,t)}async remove(e){return this.storage.remove(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(37),i=(s=r(127))&&s.__esModule?s:{default:s};function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a{static getBaShadePercent(e){return(0,n.getLuminosity)(e)>.6?-7:4}static getBsShadePercent(e){return(0,n.getLuminosity)(e)>.6?-7:7}static setBwClasses(e,t){const r=(0,n.getColorShade)(t,this.bwDarkerPercent);e("sv-bg-bw","background-color",t),e("sv-border-top-bw","border-top","1px solid "+r),e("sv-bg-bw-before:before","background-color",t)}static setBaClasses(e,t){const r=(0,n.getColorShade)(t,this.getBaShadePercent(t)),s=(0,n.getColorShade)(t,this.baDarkerPercent);e("sv-bg-ba","background-color",t),e("sv-fill-ba","fill",t),e("sv-bg-hov-ba:hover","background-color",r),e("sv-border-bottom-ba","border-bottom","1px solid "+s)}static setBsClasses(e,t){const r=(0,n.getColorShade)(t,this.getBsShadePercent(t));e("sv-bg-bs","background-color",t),e("sv-bg-bs:hover","background-color",r)}static setMainColors(e,t){const{bg_widget:r,bg_answer:s,bg_submit:n,font_widget:o,font_answer:a,font_submit:u}=t;this.setBaClasses(e,s),this.setBwClasses(e,r),this.setBsClasses(e,n),e("sv-col-fw","color",o),e("sv-col-fa","color",a),e("sv-col-fs","color",u),e("sv-bg-fa","background-color",a),i.default.smallButtonsBw(e,r),i.default.nestedBgBw(e,r),i.default.rating(e,{ba:s,bs:n,fa:a})}}t.default=a,o(a,"bwDarkerPercent",40),o(a,"baDarkerPercent",30),o(a,"bsDarkerPercent",30)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(r(27)),n=r(1),i=r(71),o=r(129),a=r(133),u=r(16),l=c(r(143));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p{static filterUniqueSurveys(e,t,r=[]){for(let s=0;s<r.length;s+=1)if(r[s].id===e.id&&s<t)return!1;return!0}static findSurveyToDisplay(e){const t=this.getSurveysToTarget(e);let r=!1;(0,i.promiseLoop)(t.length+1,(s,i)=>r?Promise.resolve(!0):s?(n.store.action(u.setSurvey)(t[i-1]),r=!0,Promise.resolve(!0)):i>=t.length?Promise.resolve(!0):p.canDisplaySurvey(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){d(e,t,r[t])}))}return e}({},e,{survey:t[i]})),!1).then()}static canDisplaySurvey(e){return!!e.surveysTriggeredByApi.find(t=>t.id===e.survey.id)?Promise.resolve(this.canDisplayTriggeredSurvey(e)):p.surveyHasPoints(e.survey)&&o.TriggerRules.areFulfilled(e.survey,e.triggers)&&a.GeneralRules.areFulfilled(e)&&l.default.areFulfilled(e)||Promise.resolve(!1)}static canDisplayTriggeredSurvey(e){return p.surveyHasPoints(e.survey)&&o.TriggerRules.areFulfilled(e.survey,e.triggers)&&s.default.ruleFulfilled(e.survey,e.visit,e.visitor)}static surveyHasPoints(e){return!!e.points}}t.default=p,d(p,"getSurveysToTarget",e=>window._sva&&window._sva.disableTargeting?e.surveysTriggeredByApi:[...e.surveysTriggeredByApi,...e.surveys].filter(p.filterUniqueSurveys))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseLoop=void 0;t.promiseLoop=(e,t,r)=>new Promise(s=>{let n=Promise.resolve(r);for(let r=0;r<e;r+=1)n=n.then(e=>t(e,r));n.then(e=>s(e))})},function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.EndpointType=void 0,t.EndpointType=s,function(e){e.closed="closed_v2.json",e.seen="seen.json",e.answered="answered_v2.json"}(s||(t.EndpointType=s={}))},function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FullStoryEvents=void 0,t.FullStoryEvents=s,function(e){e.SurveyPointAnswered="Survicate question answered",e.VisitorIdentified="Survicate visitor identified"}(s||(t.FullStoryEvents=s={}));var n=new class{pushEvent(e,t,r){const n=r&&r.fullstory;if(n&&n.enabled&&window.FS){if(e===s.SurveyPointAnswered){const e=t;window.FS.event(s.SurveyPointAnswered,{survey_name_str:e.surveyName,question_str:e.question,answer_str:e.textResponse})}e===s.VisitorIdentified&&window.FS.setUserVars({survicate_visitor_uuid_str:t.visitor_uuid})}}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(138),n=r(49);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const o="gtag",a="ga",u="SurveyMinimized",l="SurveyClosed",c="SurveyMaximized",d="SurveySeen",p="SurveyPointAnswered",v="SurveyPointSeen";class f{constructor(){i(this,"trackerRegex",/.*/),i(this,"isEnabled",!1),i(this,"settings",{})}init(e){this.isEnabled=e.enabled,this.settings=e;let t=/.*/;e.tracker&&(e.regex?t=(0,s.stringToRegex)(e.tracker_regex)||/.*/:e.tracker_names&&(t=new RegExp(`^(${e.tracker_names.join("|")})$`))),this.trackerRegex=t}static get ANALYTICS_VERSION(){return"function"==typeof window.ga?a:"function"==typeof window.gtag?o:null}static getGaMatchingTrackers(e){return window.ga.getAll().map(e=>e.get("name")).filter(t=>e.test(t))}static getCategoryName(e){return"Survicate - "+e}static getActionName(e,t){let r;switch(e){case l:r="Closed survey";break;case c:r="Maximized survey";break;case u:r="Minimized survey";break;case p:r="Question answered - "+t;break;case v:r="Question seen - "+t;break;case d:r="Seen survey"}return r}static handleEvent(e,t,r,s,n,i){const u=this.getActionName(r,s);if(!u)return;const l=this.getCategoryName(t),c=n,d={};switch(this.ANALYTICS_VERSION){case o:d.event_category=l,d.non_interaction=!i,c&&(d.event_label=c),window.gtag("event",u,d);break;case a:d.hitType="event",d.eventCategory=l,d.eventAction=u,d.nonInteraction=!i,c&&(d.eventLabel=c),window.ga(()=>{f.getGaMatchingTrackers(e).forEach(e=>{window.ga(e+".send",d)})})}}pushEvent(e,t,r){if(this.isEnabled&&r&&r.google_analytics&&r.google_analytics.on_response){let s;s=r.google_analytics.anonymize&&t.anonymizedTextResponses?t.anonymizedTextResponse:t.textResponse;let i=!0;e!==n.IntegrationEventTypes.SurveyPointSeen&&e!==n.IntegrationEventTypes.SurveySeen||(i=!1),f.handleEvent(this.trackerRegex,t.surveyName,e,t.question,s,i)}}}var _=new f;t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAttributesFromURL=t.setIdentitiesFromURL=t.isIdentityProvider=void 0;var s=r(22),n=r(52),i=r(1),o=r(8);const a=e=>n.IdentityProvidersArray.includes(e);t.isIdentityProvider=a;t.setIdentitiesFromURL=(e,t)=>{const r=e[s.ReservedParams.p];if(!r||!a(r))return;const u=(e=>{const t={};return Object.keys(e).filter(t=>{const r=!(t in s.ReservedParams)||t===s.ReservedParams.uid,n=!e[t].match(/{{.*}}/);return r&&n}).forEach(r=>{t[r]=e[r]}),t})(e);Object.keys(u).forEach(e=>{if(e===n.USER_ID_TRAIT)return void i.store.action(o.setVisitorIdentity)({identityProvider:n.Providers.Api,key:"id",value:u[e]});if(e===s.ReservedParams.uid&&r===n.Providers.Intercom)return void i.store.action(o.setVisitorIdentity)({identityProvider:n.Providers.Intercom,key:"user_id",value:u[e]});const a=(t.find(e=>e.provider===r)||{whitelist:[]}).whitelist||[];(n.PROVIDERS_TRAITS_WHITELIST[r]||[]).concat(a).includes(e)&&i.store.action(o.setVisitorIdentity)({identityProvider:r,key:e,value:u[e]})})};t.getAttributesFromURL=e=>{const t={},r=e[s.ReservedParams.p];return Object.keys(e).forEach(i=>{const o=n.PROVIDERS_TRAITS_WHITELIST[r]||[];i in s.ReservedParams||i===n.USER_ID_TRAIT||o.includes(i)||!e[i]||(t[i]=e[i])}),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChoiceButton=void 0;var s,n=r(0),i=(s=r(3))&&s.__esModule?s:{default:s},o=r(77),a=r(10),u=r(26),l=r(20);t.ChoiceButton=e=>{const t=t=>{t.currentTarget instanceof HTMLDivElement&&(t.currentTarget.blur(),t.stopPropagation()),e.select()},r=(t,r=0)=>{t.preventDefault();let s="";t.target instanceof HTMLTextAreaElement&&((0,o.autoGrow)(t.target,r),s=t.target.value),e.updateComment(s)};let s="sv-col-fa",c="sv__choice-button sv-bg-ba sv-col-fa";switch(e.isSelected&&(c+=" sv-bg-shaded-ba",c+=" sv__choice-button-selected"),i.default.themeType()){case a.ThemeType.chat:c+=" sv__chat",e.isSelected&&(s+=" sv__selected");break;case a.ThemeType.classic:c+=" sv-border-bottom-ba";break;case a.ThemeType.simple:e.isSelected&&(c+=" sv__selected",s+=" sv-col-main")}return(0,n.h)("div",{className:"sv__choice-button-wrapper"},(0,n.h)("div",{role:"button",className:c,onClick:e=>t(e)},(0,n.h)(l.Checkbox,{display:e.display,isSelected:e.isSelected,onClick:e=>t(e),onKeyboardClick:()=>e.select(),colors:l.CheckboxColors.bw}),(0,n.h)("div",null,(0,n.h)(u.Injectable,{className:s,content:e.answer.possible_answer}),e.isSelected&&e.answer.add_comment&&!i.default.isSimpleTheme()&&(0,n.h)("textarea",{className:"sv-bg-bw sv-col-fw sv-border-top-ba",name:"comment",value:e.comment,onClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),onInput:e=>{r(e,44)}}))),e.isSelected&&e.answer.add_comment&&i.default.isSimpleTheme()&&(0,n.h)("div",{className:"sv__textarea-wrapper"},(0,n.h)("textarea",{className:"sv-border-color-main",name:"comment",value:e.comment,onClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),onInput:e=>{r(e)}})))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoGrow=void 0;t.autoGrow=(e,t=0)=>{e.style.height="5px",e.style.height=Math.max(t,e.scrollHeight)+"px"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(3))&&s.__esModule?s:{default:s},i=r(10);t.default=class{static getClasses(e,t){const r=["sv__select"];switch(n.default.themeType()){case i.ThemeType.classic:case i.ThemeType.chat:default:r.push(n.default.isBackgroundLight()?"sv__light":"sv__dark"),r.push(n.default.isSurveyUp()?"sv__survey-up":""),r.push(n.default.isChatTheme()?"sv__chat":"");break;case i.ThemeType.simple:}return e&&r.push("sv__select-open"),t&&r.push("sv-invalid"),r.join(" ")}static getInputClasses(){switch(n.default.themeType()){case i.ThemeType.chat:case i.ThemeType.classic:default:return"sv-nested-bg-bw sv-nested-bg-hover-bw sv-col-fa";case i.ThemeType.simple:return""}}static getButtonClasses(e){return n.default.isSimpleTheme()?e?"sv__select-button-focused":"":["sv-col-fa","sv-nested-bg-bw","sv-nested-bg-hover-bw",e?"sv-nested-bg-selected-bw":""].join(" ")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(3))&&s.__esModule?s:{default:s},i=r(10);t.default=class{static getSecurityClasses(){const e=["sv__contact-form-security"];switch(n.default.themeType()){case i.ThemeType.chat:case i.ThemeType.classic:default:e.push("sv-col-small-button-bw");break;case i.ThemeType.simple:}return e.join(" ")}static getFieldInputClasses(e){switch(n.default.themeType()){case i.ThemeType.simple:return"sv-border-color-main "+(e?"sv__contact-form-field-filled":"");case i.ThemeType.chat:return"";case i.ThemeType.classic:default:return"sv-nested-bg-bw sv-nested-bg-hover-bw sv-col-fw"}}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,s=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var n,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(n=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:s+i.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchSurvicateReadyEvent=function(){let e;t=window._sva=window._sva||{},t.getState=()=>f({},s.store.getState(),{visit:n.default.get()}),t.getVisitorId=()=>s.store.getState().visitor.uuid,t.getSurvey=()=>{const{survey:e}=s.store.getState().surveyState;return e?{id:e.id,name:e.name}:{id:null,name:null}},t.addEventListener=(e,t)=>i.default.add(e,t),t.removeEventListener=e=>i.default.remove(e),t.destroyVisitor=async e=>{s.store.setState({sampledSurveys:{}}),n.default.resetVisit(),await(0,d.initVisitor)(d.InitVisitorMode.kiosk),e&&"function"==typeof e&&e()},t.setVisitorTraits=e=>{s.store.action(p.setVisitorAttributes)(e)},t.showSurvey=(e,t={})=>{const{backendData:r,surveyState:i}=s.store.getState(),a=r.surveys.find(t=>t.id===e);return!!a&&!(!t.forceDisplay&&i.survey)&&(s.store.action(o.triggerSurveyByApi)(e,t),t.forceDisplay||l.default.ruleFulfilled(a,n.default.get(),s.store.getState().visitor))},t.retarget=()=>{const{surveyApiState:e,backendData:t}=s.store.getState();a.TargetingTriggersInstance.startTargeting([...e.surveysTriggeredByApi,...t.surveys].filter(u.default.filterUniqueSurveys)),s.store.action(o.retarget)()},t.modifyOverlay=e=>{s.store.setState(t=>f({},t,{surveyState:f({},t.surveyState,{survey:f({},t.surveyState.survey,{overlay:e}),isMinimized:!1,isOverlayActive:!!e})}))},t.modifyCurrentTheme=e=>{const{backendData:t,surveyState:r}=s.store.getState(),n=t.themes,i=r.survey;i&&(s.store.action(a.setThemes)(n.map(t=>t.id!==i.theme_id?t:f({},t,{color_scheme:e}))),s.store.action(c.setTheme)(i))},void(t.modifySurveyPosition=e=>{const{survey:t}=s.store.getState().surveyState;t&&s.store.action(c.setSurvey)(f({},t,{presentation_style:e}))}),"function"==typeof Event?e=new Event("SurvicateReady"):(e=document.createEvent("Event"),e.initEvent("SurvicateReady",!0,!0));var t;window._svc.initialized=!0,window._sva.traits&&s.store.action(p.setVisitorAttributes)(window._sva.traits);window.dispatchEvent(e)};var s=r(1),n=v(r(17)),i=v(r(41)),o=r(13),a=r(23),u=v(r(70)),l=v(r(27)),c=r(16),d=r(15),p=r(8);function v(e){return e&&e.__esModule?e:{default:e}}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){_(e,t,r[t])}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createVisitFromDOM=t.getCurrentLocation=void 0;const s=()=>document.location;t.getCurrentLocation=s;t.createVisitFromDOM=()=>({platform:window.navigator.platform,user_agent:window.navigator.userAgent,language:window.navigator.userLanguage||window.navigator.language,page_url:s().href})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointText=t.PointTextType=void 0;var s,n=r(0),i=r(26),o=(s=r(175))&&s.__esModule?s:{default:s};let a;t.PointTextType=a,function(e){e[e.question=0]="question",e[e.description=1]="description"}(a||(t.PointTextType=a={}));t.PointText=({text:e,type:t})=>{const r=["sv__point-text",t===a.question?"sv__point-question sv-col-question":"sv__point-description sv-col-description"].join(" ");return(0,n.h)(i.Injectable,{className:r,content:o.default.replaceTags(e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=o(r(185)),i=o(r(78));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends s.Component{constructor(e){super(e),a(this,"selectRef",(0,s.createRef)()),a(this,"clickInside",!1),a(this,"searchHandler",e=>{let t="";e.target instanceof HTMLInputElement&&(t=e.target.value),this.setState(e=>({search:t,isOpen:e.isOpen||!!t}))}),a(this,"updatePosition",e=>{const t=this.getFilteredOptions().length;t&&this.setState(r=>({focusPosition:(r.focusPosition+e+t)%t}))}),a(this,"keyDownHandler",e=>{switch(e.key){case"Enter":if(this.state.isOpen){const e=this.getFilteredOptions()[this.state.focusPosition];return void(e&&this.selectHandler(e))}return void this.toggleDropdown(e);case"ArrowUp":return void this.updatePosition(-1);case"ArrowDown":this.updatePosition(1)}}),a(this,"toggleDropdown",e=>{this.setState(t=>{t.isOpen&&e.target.blur(),this.props.onExpand&&this.props.onExpand(!t.isOpen);const r=t.isOpen&&t.selected?t.selected.label:"";return{isOpen:!t.isOpen,search:r}})}),a(this,"selectHandler",e=>{this.setState({selected:e,search:e.label,isOpen:!1,focusPosition:0}),this.props.onSelect(e.value)}),a(this,"getFilteredOptions",()=>{const{search:e}=this.state;return this.props.options.filter(t=>t.label.toLowerCase().includes(e.toLowerCase()))}),a(this,"handleDropdownClick",()=>{this.clickInside=!0}),a(this,"handleDocumentClick",()=>{!this.clickInside&&this.state.isOpen&&this.setState(e=>({focusPosition:0,isOpen:!1,search:e.selected?""+e.selected.label:""})),this.clickInside=!1});const t=e.options.find(t=>t.value===e.value)||null;this.state={propValue:e.value||null,selected:t,search:t?t.label:"",isOpen:!1,focusPosition:0}}static getDerivedStateFromProps(e,t){if(e.value===t.propValue)return{};const r=e.options.find(t=>t.value===e.value)||null;return{propValue:e.value,selected:r,search:r?r.label:""}}componentDidMount(){this.selectRef.current&&(this.selectRef.current.addEventListener("click",this.handleDropdownClick),document.addEventListener("click",this.handleDocumentClick))}componentWillUnmount(){this.selectRef.current&&(this.selectRef.current.removeEventListener("click",this.handleDropdownClick),document.removeEventListener("click",this.handleDocumentClick))}render(){return(0,s.h)("div",{ref:this.selectRef,className:i.default.getClasses(this.state.isOpen,!!this.props.isError)},(0,s.h)("input",{className:i.default.getInputClasses(),type:"text",value:this.state.search,onInput:this.searchHandler,onKeyDown:this.keyDownHandler,placeholder:this.props.placeholder||"Choose option",onClick:this.toggleDropdown,autoComplete:"off",readOnly:!this.props.allowSearch}),this.state.isOpen&&(0,s.h)(n.default,{selectOption:this.selectHandler,search:this.state.search,position:this.state.focusPosition,options:this.getFilteredOptions()}),(0,s.h)("span",{className:"sv__caret",onClick:this.toggleDropdown,onInput:this.searchHandler,onKeyDown:this.keyDownHandler}))}}t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Field=void 0;var s=r(0),n=r(2),i=a(r(3)),o=a(r(79));function a(e){return e&&e.__esModule?e:{default:e}}t.Field=e=>{const t=(0,n.useRef)(),r=["sv__contact-form-field",e.value?"sv__contact-form-field-filled":"",e.invalid?"sv__invalid":"",i.default.isChatTheme()?"sv__chat":"","sv__contact-form-"+e.type];i.default.isBackgroundLight()?r.push("sv__dark"):r.push("sv__light");const a=`${e.label}${e.required?"*":""}`;return(0,s.h)("div",{className:r.join(" ")},(0,s.h)("input",{ref:t,className:o.default.getFieldInputClasses(!!e.value),type:"text",placeholder:a,value:e.value,onInput:t=>{t.target instanceof HTMLInputElement&&e.onInput(t.target.value)}}),(0,s.h)("span",{onClick:()=>{t.current&&t.current.focus()},className:"sv-bg-bw-before sv__contact-form-field-label"},a))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=r(47),i=r(76),o=r(20),a=r(9),u=r(30),l=r(35);function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){d(e,t,r[t])}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends s.Component{constructor({point:e,value:t,setSubmitButtonPresent:r}){super(),d(this,"updateComment",(e,t)=>{this.setState(({comments:r})=>({comments:c({},r,{[t]:e})}))}),d(this,"selectOption",e=>{const t=!!e.add_comment;this.setState(r=>({selectedAnswer:e,showSubmit:r.showSubmit||t}),()=>{this.state.showSubmit?this.props.setSubmitButtonPresent(!0):this.submit()})}),d(this,"submit",(e=this.state.selectedAnswer)=>{if(!e)return;const t=this.state.comments[e.id]||"";this.props.answer((0,u.getSingleChoiceAnswerEvent)({answer:e,point:this.props.point,comment:t}))}),this.state={pointId:e.id,selectedAnswer:t&&t.answer?t.answer:null,showSubmit:!!t,comments:p.getComments(e,t),answers:(0,n.randomizeAnswers)(e),reducedAnswers:l.PreviewHelpers.reduceAnswers(e.answers)},t&&r(!0)}static getComments(e,t){const r={};return e.answers.forEach(e=>{e.add_comment&&(r[e.id]="")}),t&&t.comment&&(r[t.answer.id]=t.comment),r}static getDerivedStateFromProps({point:e,value:t},r){if(e.id===r.pointId&&window._svc.isPreview){const s=l.PreviewHelpers.reduceAnswers(e.answers);if(r.reducedAnswers===s&&r.answers.length===e.answers.length)return{};return{answers:l.PreviewHelpers.getChangedAnswers(e,r.answers),comments:c({},this.getComments(e,t),r.comments),reducedAnswers:s}}return e.id!==r.pointId||window._svc.isPreview?{pointId:e.id,showSubmit:!!t,selectedAnswer:t&&t.answer?t.answer:null,comments:p.getComments(e,t),answers:(0,n.randomizeAnswers)(e),reducedAnswers:l.PreviewHelpers.reduceAnswers(e.answers)}:{}}render(){const{showSubmit:e,answers:t}=this.state;return(0,s.h)("div",{className:"sv__single-choice"},t.map(e=>(0,s.h)(i.ChoiceButton,{key:e.id,answer:e,display:o.CheckboxDisplay.circle,isSelected:this.state.selectedAnswer===e,comment:this.state.comments[e.id],updateComment:t=>this.updateComment(t,e.id),select:()=>this.selectOption(e)})),e&&(0,s.h)(a.SubmitButton,{submit:this.submit,text:this.props.submitText}))}}var v=p;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,i=a(r(55)),o=a(r(43));function a(e){return e&&e.__esModule?e:{default:e}}var u=0,l=0;var c=function(e,t,r){var a=t&&r||0,c=t||new Array(16),d=(e=e||{}).node||s,p=void 0!==e.clockseq?e.clockseq:n;if(null==d||null==p){var v=e.random||(e.rng||i.default)();null==d&&(d=s=[1|v[0],v[1],v[2],v[3],v[4],v[5]]),null==p&&(p=n=16383&(v[6]<<8|v[7]))}var f=void 0!==e.msecs?e.msecs:Date.now(),_=void 0!==e.nsecs?e.nsecs:l+1,y=f-u+(_-l)/1e4;if(y<0&&void 0===e.clockseq&&(p=p+1&16383),(y<0||f>u)&&void 0===e.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=f,l=_,n=p;var h=(1e4*(268435455&(f+=122192928e5))+_)%4294967296;c[a++]=h>>>24&255,c[a++]=h>>>16&255,c[a++]=h>>>8&255,c[a++]=255&h;var b=f/4294967296*1e4&268435455;c[a++]=b>>>8&255,c[a++]=255&b,c[a++]=b>>>24&15|16,c[a++]=b>>>16&255,c[a++]=p>>>8|128,c[a++]=255&p;for(var m=0;m<6;++m)c[a+m]=d[m];return t||(0,o.default)(c)};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(r(56)),n=i(r(90));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,s.default)("v3",48,n.default);t.default=o},function(e,t,r){"use strict";function s(e){return 14+(e+64>>>9<<4)+1}function n(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,s,i,o){return n((a=n(n(t,e),n(s,o)))<<(u=i)|a>>>32-u,r);var a,u}function o(e,t,r,s,n,o,a){return i(t&r|~t&s,e,t,n,o,a)}function a(e,t,r,s,n,o,a){return i(t&s|r&~s,e,t,n,o,a)}function u(e,t,r,s,n,o,a){return i(t^r^s,e,t,n,o,a)}function l(e,t,r,s,n,o,a){return i(r^(t|~s),e,t,n,o,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,s=0;s<r;s+=8){var n=e[s>>5]>>>s%32&255,i=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[s(t)-1]=t;for(var r=1732584193,i=-271733879,c=-1732584194,d=271733878,p=0;p<e.length;p+=16){var v=r,f=i,_=c,y=d;r=o(r,i,c,d,e[p],7,-680876936),d=o(d,r,i,c,e[p+1],12,-389564586),c=o(c,d,r,i,e[p+2],17,606105819),i=o(i,c,d,r,e[p+3],22,-1044525330),r=o(r,i,c,d,e[p+4],7,-176418897),d=o(d,r,i,c,e[p+5],12,1200080426),c=o(c,d,r,i,e[p+6],17,-1473231341),i=o(i,c,d,r,e[p+7],22,-45705983),r=o(r,i,c,d,e[p+8],7,1770035416),d=o(d,r,i,c,e[p+9],12,-1958414417),c=o(c,d,r,i,e[p+10],17,-42063),i=o(i,c,d,r,e[p+11],22,-1990404162),r=o(r,i,c,d,e[p+12],7,1804603682),d=o(d,r,i,c,e[p+13],12,-40341101),c=o(c,d,r,i,e[p+14],17,-1502002290),i=o(i,c,d,r,e[p+15],22,1236535329),r=a(r,i,c,d,e[p+1],5,-165796510),d=a(d,r,i,c,e[p+6],9,-1069501632),c=a(c,d,r,i,e[p+11],14,643717713),i=a(i,c,d,r,e[p],20,-373897302),r=a(r,i,c,d,e[p+5],5,-701558691),d=a(d,r,i,c,e[p+10],9,38016083),c=a(c,d,r,i,e[p+15],14,-660478335),i=a(i,c,d,r,e[p+4],20,-405537848),r=a(r,i,c,d,e[p+9],5,568446438),d=a(d,r,i,c,e[p+14],9,-1019803690),c=a(c,d,r,i,e[p+3],14,-187363961),i=a(i,c,d,r,e[p+8],20,1163531501),r=a(r,i,c,d,e[p+13],5,-1444681467),d=a(d,r,i,c,e[p+2],9,-51403784),c=a(c,d,r,i,e[p+7],14,1735328473),i=a(i,c,d,r,e[p+12],20,-1926607734),r=u(r,i,c,d,e[p+5],4,-378558),d=u(d,r,i,c,e[p+8],11,-2022574463),c=u(c,d,r,i,e[p+11],16,1839030562),i=u(i,c,d,r,e[p+14],23,-35309556),r=u(r,i,c,d,e[p+1],4,-1530992060),d=u(d,r,i,c,e[p+4],11,1272893353),c=u(c,d,r,i,e[p+7],16,-155497632),i=u(i,c,d,r,e[p+10],23,-1094730640),r=u(r,i,c,d,e[p+13],4,681279174),d=u(d,r,i,c,e[p],11,-358537222),c=u(c,d,r,i,e[p+3],16,-722521979),i=u(i,c,d,r,e[p+6],23,76029189),r=u(r,i,c,d,e[p+9],4,-640364487),d=u(d,r,i,c,e[p+12],11,-421815835),c=u(c,d,r,i,e[p+15],16,530742520),i=u(i,c,d,r,e[p+2],23,-995338651),r=l(r,i,c,d,e[p],6,-198630844),d=l(d,r,i,c,e[p+7],10,1126891415),c=l(c,d,r,i,e[p+14],15,-1416354905),i=l(i,c,d,r,e[p+5],21,-57434055),r=l(r,i,c,d,e[p+12],6,1700485571),d=l(d,r,i,c,e[p+3],10,-1894986606),c=l(c,d,r,i,e[p+10],15,-1051523),i=l(i,c,d,r,e[p+1],21,-2054922799),r=l(r,i,c,d,e[p+8],6,1873313359),d=l(d,r,i,c,e[p+15],10,-30611744),c=l(c,d,r,i,e[p+6],15,-1560198380),i=l(i,c,d,r,e[p+13],21,1309151649),r=l(r,i,c,d,e[p+4],6,-145523070),d=l(d,r,i,c,e[p+11],10,-1120210379),c=l(c,d,r,i,e[p+2],15,718787259),i=l(i,c,d,r,e[p+9],21,-343485551),r=n(r,v),i=n(i,f),c=n(c,_),d=n(d,y)}return[r,i,c,d]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(s(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(r(55)),n=i(r(43));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,r){var i=(e=e||{}).random||(e.rng||s.default)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=i[o];return t}return(0,n.default)(i)};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(r(56)),n=i(r(93));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,s.default)("v5",80,n.default);t.default=o},function(e,t,r){"use strict";function s(e,t,r,s){switch(e){case 0:return t&r^~t&s;case 1:return t^r^s;case 2:return t&r^t&s^r&s;case 3:return t^r^s}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var o=0;o<i.length;++o)e.push(i.charCodeAt(o))}e.push(128);for(var a=e.length/4+2,u=Math.ceil(a/16),l=new Array(u),c=0;c<u;++c){for(var d=new Uint32Array(16),p=0;p<16;++p)d[p]=e[64*c+4*p]<<24|e[64*c+4*p+1]<<16|e[64*c+4*p+2]<<8|e[64*c+4*p+3];l[c]=d}l[u-1][14]=8*(e.length-1)/Math.pow(2,32),l[u-1][14]=Math.floor(l[u-1][14]),l[u-1][15]=8*(e.length-1)&4294967295;for(var v=0;v<u;++v){for(var f=new Uint32Array(80),_=0;_<16;++_)f[_]=l[v][_];for(var y=16;y<80;++y)f[y]=n(f[y-3]^f[y-8]^f[y-14]^f[y-16],1);for(var h=r[0],b=r[1],m=r[2],g=r[3],w=r[4],x=0;x<80;++x){var S=Math.floor(x/20),k=n(h,5)+s(S,b,m,g)+w+t[S]+f[x]>>>0;w=g,g=m,m=n(b,30)>>>0,b=h,h=k}r[0]=r[0]+h>>>0,r[1]=r[1]+b>>>0,r[2]=r[2]+m>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+w>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static ruleFulfilled(e,t,r){const s=r.href.replace("://www.","://").replace(r.protocol+"//","");if(e)return!0;const n=t.filter(e=>!e.visible&&!!e.link&&!!e.regexp_text_pattern);if(this.linksMatchUrl(n,r.href,s))return!1;const i=t.filter(e=>e.visible&&!!e.link&&!!e.regexp_text_pattern);return!i.length||this.linksMatchUrl(i,r.href,s)}static linksMatchUrl(e,t,r){for(let s=0;s<e.length;s+=1){const n=new RegExp(e[s].regexp_text_pattern);if(n.test(t)||n.test(r))return!0}return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(r(65)),n=r(25),i=a(r(36)),o=a(r(96));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{MAXIMUM_REQUEST_DURATION:l,CONSUMPTION_INTERVAL:c,MUTEX_LOCK_INTERVAL:d}=o.default;var p;!function(e){e[e.start=0]="start",e[e.finish=1]="finish"}(p||(p={}));class v{constructor(e,t){u(this,"handlerId",Math.random()),u(this,"storage",void 0),u(this,"consumer",void 0),this.storage=e,this.consumer=t,this.consumeRequests()}async addRequest(e){const t=await this.storage.add(e);this.consumeRequest(t,e)}static getRequestProcessingKey(e){return`${n.StorageKeysQueue.isRequestProcessing}:${e}`}static isRequestProcessing(e){const t=i.default.get(v.getRequestProcessingKey(e));return!(t instanceof Error)&&!!(t&&t.maximumTime>Date.now())}setRequestProcessing(e,t){t===p.start?i.default.set(v.getRequestProcessingKey(e),{maximumTime:l+Date.now(),handlerId:this.handlerId}):t===p.finish&&i.default.remove(v.getRequestProcessingKey(e))}static isThisHandlerProcessing(e,t){const r=i.default.get(v.getRequestProcessingKey(t));return r instanceof Error||!(!r||r.handlerId!==e)}async consumeRequest(e,t){!v.isRequestProcessing(e)&&t&&(this.setRequestProcessing(e,p.start),await(0,s.default)(d),v.isThisHandlerProcessing(this.handlerId,e)&&((await this.consumer(t)).isSuccess()&&this.storage.remove(e),this.setRequestProcessing(e,p.finish)))}consumeRequests(){setInterval(async()=>{(await this.storage.getAll()).forEach(e=>{this.consumeRequest(e.key,e)})},c)}}t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={CONSUMPTION_INTERVAL:2e3,MUTEX_LOCK_INTERVAL:100,MAXIMUM_REQUEST_DURATION:16e3}},function(e,t,r){"use strict";e.exports=r(98)},function(e,t,r){"use strict";var s=r(4),n=r(57),i=r(100),o=r(45);function a(e){var t=new i(e),r=n(i.prototype.request,t);return s.extend(r,i.prototype,t),s.extend(r,t),r}var u=a(o);u.Axios=i,u.create=function(e){return a(s.merge(o,e))},u.Cancel=r(61),u.CancelToken=r(114),u.isCancel=r(60),u.all=function(e){return Promise.all(e)},u.spread=r(115),e.exports=u,e.exports.default=u},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,r){"use strict";var s=r(45),n=r(4),i=r(109),o=r(110);function a(e){this.defaults=e,this.interceptors={request:new i,response:new i}}a.prototype.request=function(e){"string"==typeof e&&(e=n.merge({url:arguments[0]},arguments[1])),(e=n.merge(s,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},n.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,r,s){return this.request(n.merge(s||{},{method:e,url:t,data:r}))}})),e.exports=a},function(e,t){var r,s,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{s="function"==typeof clearTimeout?clearTimeout:o}catch(e){s=o}}();var u,l=[],c=!1,d=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&v())}function v(){if(!c){var e=a(p);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function _(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||c||a(v)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=_,n.addListener=_,n.once=_,n.off=_,n.removeListener=_,n.removeAllListeners=_,n.emit=_,n.prependListener=_,n.prependOnceListener=_,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,r){"use strict";var s=r(4);e.exports=function(e,t){s.forEach(e,(function(r,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[s])}))}},function(e,t,r){"use strict";var s=r(59);e.exports=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(s("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,s,n){return e.config=t,r&&(e.code=r),e.request=s,e.response=n,e}},function(e,t,r){"use strict";var s=r(4);function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(s.isURLSearchParams(t))i=t.toString();else{var o=[];s.forEach(t,(function(e,t){null!=e&&(s.isArray(e)?t+="[]":e=[e],s.forEach(e,(function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),o.push(n(t)+"="+n(e))})))})),i=o.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var s=r(4),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,o={};return e?(s.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=s.trim(e.substr(0,i)).toLowerCase(),r=s.trim(e.substr(i+1)),t){if(o[t]&&n.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},function(e,t,r){"use strict";var s=r(4);e.exports=s.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var s=e;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=s.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var s=r(4);e.exports=s.isStandardBrowserEnv()?{write:function(e,t,r,n,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),s.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),s.isString(n)&&a.push("path="+n),s.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var s=r(4);function n(){this.handlers=[]}n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){s.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},function(e,t,r){"use strict";var s=r(4),n=r(111),i=r(60),o=r(45),a=r(112),u=r(113);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=s.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),s.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return l(e),t.data=n(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var s=r(4);e.exports=function(e,t,r){return s.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var s=r(61);function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new s(e),t(r.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{isSuccess(){return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{isSuccess(){return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,i=r(34),o=(s=r(21))&&s.__esModule?s:{default:s};function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.readonly="readonly",e.readwrite="readwrite"}(n||(n={}));t.default=class{constructor(){a(this,"db",void 0),a(this,"name",""),a(this,"version",1)}init(e){return this.name=e,new Promise((t,r)=>{const s=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(!s)return r();const n=s.open(e,this.version);n.onupgradeneeded=()=>this.upgradeHandler(n.result),n.onsuccess=()=>(this.db=n.result,this.hasMissingObjectStores(this.db)?r():t()),n.onerror=()=>r()})}hasMissingObjectStores(e){let t="";return e.objectStoreNames.contains(i.StorageTables.all)||(t="all"),e.objectStoreNames.contains(i.StorageTables.requests)||(t+="-requests",o.default.log({message:"Doesnt contain: "+t,stack:"IndexedDB.ts"})),!t.length}upgradeHandler(e){const t="key",r=e.createObjectStore(i.StorageTables.all,{keyPath:t}),s=e.createObjectStore(i.StorageTables.requests,{keyPath:t});r.createIndex(t,t),s.createIndex(t,t)}async reopenDB(){if(this.db)try{this.db.transaction(i.StorageTables.all,n.readonly)}catch(e){await this.init(this.name)}else await this.init(this.name)}getTransaction(e,t){if(!this.db)throw new Error("IndexedDB isn't initialized");return this.db.transaction(e,t)}async put({table:e,key:t},r){return new Promise(async(s,i)=>{await this.reopenDB();const o=this.getTransaction(e,n.readwrite).objectStore(e).put(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){a(e,t,r[t])}))}return e}({},r,{key:t}));o.onsuccess=()=>s(),o.onerror=()=>i(o.error)})}async get({table:e,key:t}){return new Promise(async(r,s)=>{await this.reopenDB();const i=this.getTransaction(e,n.readwrite).objectStore(e).get(t);i.onsuccess=()=>r(i.result),i.onerror=()=>s(i.error)})}async getAll(e){return new Promise(async t=>{const r=[];await this.reopenDB();this.getTransaction(e,n.readwrite).objectStore(e).index("key").openCursor().onsuccess=function(e){const s=e.target?e.target.result:null;if(!s)return t(r);r.push(s.value),s.continue()}})}async remove({table:e,key:t}){return new Promise((r,s)=>{if(!this.db)return s();const n=this.db.transaction(e,"readwrite").objectStore(e).delete(t);n.onsuccess=()=>{r(n.result)},n.onerror=()=>{s(n.error)}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(r(36)),n=i(r(33));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(){var e,t,r;r=void 0,(t="prefix")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}async init(e){this.prefix=e}getStoreKey({table:e,key:t}){return`${this.prefix}${e}${t}`}async get(e){return new Promise((t,r)=>{try{t(s.default.get(this.getStoreKey(e),!0))}catch(e){r()}})}async put(e,t){return new Promise((r,n)=>{try{s.default.set(this.getStoreKey(e),t,!0),r()}catch(e){n()}})}async getAll(e){return new Promise((t,r)=>{try{const r=[],i=new RegExp("survi::.*::"+e);s.default.each((e,t)=>{i.test(t)&&r.push((0,n.default)(e))}),t(r)}catch(e){r()}})}async remove(e){return new Promise((t,r)=>{try{s.default.remove(this.getStoreKey(e),!0),t()}catch(e){r()}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pointAnswer=function({surveyState:e,isPreview:t},r){if(!e.survey)return;const{answers:v,textResponse:f,anonymizedTextResponse:_}=r;v.forEach(e=>{e.user_tag&&n.store.action(c.setVisitorTag)(e.user_tag)}),e.survey.global_tags&&e.survey.global_tags.split(";").forEach(e=>{n.store.action(c.setVisitorTag)(e)});const{point:y}=e.pointsDisplayed[e.pointsDisplayed.length-1],h=e.pointsDisplayed.length+e.pointsForward.length===1,b=h?(0,l.v4)():e.responseUuid;h&&n.store.setState({surveyState:p({},e,{responseUuid:b})});n.store.action(s.answered)({answers:v,surveyId:e.survey.id,surveyPointId:y.id,completionRate:(0,i.getCompletionRate)(e),response_uuid:b,answerType:y.answer_type,pointType:y.type,surveyName:e.survey.name,question:y.content,textResponse:f,anonymizedTextResponse:_,overwrite:e.pointsAnswered[y.id]});const m=(({points:e},t,r)=>{if([a.CtaAnswerType.social,a.CtaAnswerType.redirect,a.CtaAnswerType.buttonLink].includes(t.answer_type))return null;const s=r.reduce((e,t)=>t.nextSurveyPointId||e,t.next_survey_point_id);if(-1===s)return null;if(s){const t=e.find(e=>e.id===s);if(t)return t}for(let r=0;r<e.length;r+=1)if(t.id===e[r].id&&r+1<e.length)return e[r+1];return null})(e.survey,y,r.answers);if(y.answer_type===a.CtaAnswerType.thankYouMessage){u.default.fireEvent(u.ApiEvents.surveyCompleted,{surveyId:e.survey.id,answer:{answer_type:a.CtaAnswerType.thankYouMessage}});const r=y.cta_params||y.settings,s=(0,d.implication)("timeoutDisplay"in r,r.timeout_display)?1e3*parseInt(r.timeout_display_count,10):5e3;if(t)return;return void setTimeout(()=>{n.store.action(o.finish)(o.FinishMode.dontSendEvent)},s)}if(!m)return void n.store.action(o.finish)();n.store.action(o.setSurveyPoint)(m,r.value)},t.SURVEY_POINT_FINISH=void 0;var s=r(40),n=r(1),i=r(62),o=r(16),a=r(24),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(41)),l=r(32),c=r(8),d=r(139);function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){v(e,t,r[t])}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.SURVEY_POINT_FINISH=-1},,,,,function(e,t,r){"use strict";function s(e,t){for(var r in t)e[r]=t[r];return e}r.r(t),t.default=function(e){var t=[];function r(e){for(var r=[],s=0;s<t.length;s++)t[s]===e?e=null:r.push(t[s]);t=r}function n(r,n,i){e=n?r:s(s({},e),r);for(var o=t,a=0;a<o.length;a++)o[a](e,i)}return e=e||{},{action:function(t){function r(e){n(e,!1,t)}return function(){for(var s=arguments,n=[e],i=0;i<arguments.length;i++)n.push(s[i]);var o=t.apply(this,n);if(null!=o)return o.then?o.then(r):r(o)}},setState:n,subscribe:function(e){return t.push(e),function(){r(e)}},unsubscribe:r,getState:function(){return e}}}},function(e,t){e.exports=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__,r=!1;return t?(e.devtools||(e.devtools=t.connect(),e.devtools.subscribe((function(t){"DISPATCH"===t.type&&t.state&&(r="JUMP_TO_ACTION"===t.payload.type||"JUMP_TO_STATE"===t.payload.type,e.setState(JSON.parse(t.state),!0))})),e.devtools.init(e.getState()),e.subscribe((function(t,s){var n=s&&s.name||"setState";r?r=!1:e.devtools.send(n,t)}))),e):(console.warn("Please install/enable Redux devtools extension"),e.devtools=null,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(37),i=(s=r(11))&&s.__esModule?s:{default:s};t.default=class{static smallButtonsBw(e,t){let r="",s="";(0,n.getLuminosity)(t)>.5?(r=(0,n.getColorShade)(t,-40),s=(0,n.getColorShade)(t,-50)):(r=(0,n.getColorShade)(t,30),s=(0,n.getColorShade)(t,40)),e("sv-col-small-button-bw","color",r),e("sv-col-small-button-bw:hover","color",s)}static nestedBgBw(e,t){let r="",s="";(0,n.getLuminosity)(t)>.5?(r=(0,n.getColorShade)(t,-7),s=(0,n.getColorShade)(t,40)):(r=(0,n.getColorShade)(t,4),s=(0,n.getColorShade)(t,15));const i=(0,n.getColorShade)(r,5);e("sv-nested-bg-bw","background-color",r),e("sv-nested-bg-hover-bw:hover","background-color",i),e("sv-nested-bg-bw","border-top","1px solid "+s),e("sv-nested-bg-selected-bw","background-color",i)}static rating(e,{ba:t,bs:r,fa:s}){e("sv-rating svg","fill",t),e("sv-rating span","color",s),i.default.hasHover()&&(e("sv-rating:hover svg","fill",r),e("sv-rating:hover ~ .sv-rating svg","fill",r),e("sv-rating:hover span","color",r),e("sv-rating:hover ~ .sv-rating span","color",r),e("sv-rating:hover span","font-weight","900"),e("sv-rating:hover ~ .sv-rating span","font-weight","900")),e("sv-rating-selected svg","fill",r),e("sv-rating-selected ~ .sv-rating svg","fill",r),e("sv-rating-selected span","color",r),e("sv-rating-selected ~ .sv-rating span","color",r),e("sv-rating-selected span","font-weight","900"),e("sv-rating-selected ~ .sv-rating span","font-weight","900")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(48),n=r(37),i=u(r(69)),o=u(r(46)),a=u(r(11));function u(e){return e&&e.__esModule?e:{default:e}}t.default=class{static addClassicThemeCss(e,t){const{bg_widget:r,bg_submit:s,bg_answer:a,font_widget:u}=t,l=(0,n.getColorShade)(s,i.default.bsDarkerPercent),c=(0,n.getColorShade)(a,i.default.baDarkerPercent),d=(0,n.getColorShade)(a,i.default.getBaShadePercent(a));let p;e("sv-col-question","color",u),e("sv-col-description","color",u),e("sv-checkbox-tick-border-color","border-color",(0,o.default)(r)),e("sv-bg-bs","border-bottom","1px solid "+l),e("sv-border-top-ba","border-top","1px solid "+c),e("sv-bg-ba:hover","background-color",d),e("sv-bg-shaded-ba","background-color",d);const v=(0,n.getColorShade)(r,10);p=(0,n.getLuminosity)(r)>.5?(0,n.getColorShade)(r,-60):(0,n.getColorShade)(r,5),e("sv-progress-bar","background-color",p),e("sv-progress-bar-fill","background-color",v)}static addChatThemeCss(e,t){const{main_color:r,font_widget:s}=t;e("sv-col-main","color",r),e("sv-col-question","color",r),e("sv-col-description","color",s),e("sv-checkbox-tick-border-color","border-color",s),e("sv-progress-bar","background-color","#b3b3b3"),e("sv-progress-bar-fill","background-color",r)}static addSimpleThemeCss(e,t){const{main_color:r,bg_widget:s}=t,{R:i,G:o,B:u}=(0,n.separateRGB)(r),l=`rgba(${i}, ${o}, ${u}, 0.5)`;e("sv-col-description","color","#5b5b5e"),e("sv-checkbox-tick-border-color","border-color",s),e("sv-bg-main","background-color",r),e("sv-border-color-main","border-color",r),e("sv-col-main","color",r),e("sv-navigation","box-shadow","0 10px 20px "+l),e("sv-navigation:before","border-color",r),a.default.hasHover()&&(e("sv-rating:hover svg","filter",`drop-shadow(0 5px 10px ${l})`),e("sv-rating:hover ~ .sv-rating svg","filter",`drop-shadow(0 5px 10px ${l})`)),e("sv-rating-selected svg","filter",`drop-shadow(0 5px 10px ${l})`),e("sv-rating-selected ~ .sv-rating svg","filter",`drop-shadow(0 5px 10px ${l})`),e("sv-ranking-option .sv__caret","border-top-color",r),e("sv-ranking-option .sv__caret","border-bottom-color",r),e("sv-progress-bar","background-color","#ebeeee"),e("sv-progress-bar-fill","background-color",r)}static customSimpleThemeCss(e){const{R:t,G:r,B:i}=(0,n.separateRGB)(e.main_color),o=`rgba(${t}, ${r}, ${i}, 0.5)`;return`body{margin: 0 !important;}\n    #survicate-box .sv-col-description * { color: ${e.font_widget} }\n    html{position: relative; max-width: 100vw; background-color: white;}\n    @media only screen and (max-width: ${s.MediaSize.mobile}px) {\n      #survicate-box .sv-bg-bs { box-shadow: 0 -5px 20px ${o}; }\n      .sv__submit-btn-present .sv__point-wrapper {padding-bottom: 50px;}\n    }\n    @media only screen and (min-width: ${s.MediaSize.mobile+1}px) {\n      #survicate-box .sv-bg-bs { \n        box-shadow: 0 10px 20px ${o};\n        border-radius: 24px; \n      }\n    }`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerRules=void 0;var s=o(r(130)),n=o(r(131)),i=o(r(132));function o(e){return e&&e.__esModule?e:{default:e}}t.TriggerRules=class{static areFulfilled(e,t){return s.default.ruleFulfilled(e,t)&&n.default.ruleFulfilled(e,t)&&i.default.ruleFulfilled(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(7);t.default=class{static ruleFulfilled(e,{exitIntent:t}){return e.appear_method!==s.AppearMethod.exitIntent||!!t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(7);t.default=class{static ruleFulfilled(e,{delayed:t}){return e.appear_method!==s.AppearMethod.delayed||!!t&&e.display_delay<=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(7);t.default=class{static ruleFulfilled(e,{scroll:t}){return e.appear_method!==s.AppearMethod.scroll||!!t&&e.display_scroll<=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralRules=void 0;var s=a(r(134)),n=a(r(27)),i=a(r(94)),o=r(83);function a(e){return e&&e.__esModule?e:{default:e}}t.GeneralRules=class{static areFulfilled({survey:e,visit:t,visitor:r}){return n.default.ruleFulfilled(e,t,r)&&i.default.ruleFulfilled(e.display_all,e.links,(0,o.getCurrentLocation)())&&s.default.ruleFulfilled(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(1);function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){i(e,t,r[t])}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{static ruleFulfilled(e){const{sampledSurveys:t}=s.store.getState();return!t[e.id]&&(s.store.setState({sampledSurveys:n({},t,{[e.id]:!0})}),100*Math.random()<=e.display_percentage)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQuestionAnsweredPayload=void 0;var s=r(12),n=r(39);t.getQuestionAnsweredPayload=(e,t)=>{const{answer_type:r,surveyId:i,questionId:o}=t,a={answer_type:r};if(!e.length)return{surveyId:i,questionId:o};switch(r){case s.SurveyQuestionAnswerType.single:case s.SurveyQuestionAnswerType.smileyScale:case s.SurveyQuestionAnswerType.dropdown:a.answer_id=e[0].survey_question_answer_id;break;case s.SurveyQuestionAnswerType.multiple:a.answer_ids=e.map(e=>e.survey_question_answer_id);break;case s.SurveyQuestionAnswerType.text:case s.SurveyQuestionAnswerType.date:case s.SurveyQuestionAnswerType.rating:case n.NpsAnswerType.nps:a.answer_value=e[0].content}return{surveyId:i,questionId:o,answer:a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAnsweredJsonPayload=void 0;var s=r(23),n=r(42);t.getAnsweredJsonPayload=(e,t)=>{return{visit_points:(r=e.answers,i=e.completionRate,r.map(e=>{const{survey_question_answer_id:t,user_tag:r,content:s,answer_type:n}=e;return{survey_question_answer_id:t||void 0,answer_type:n||void 0,user_tag:r,content:s||void 0,completion_rate:i,finished:100===i||void 0}})),survey_point_id:e.surveyPointId,response_uuid:e.response_uuid,overwrite:e.overwrite||void 0,integrations:s.IntegrationsServiceInstance.getAPIToAnsweredJsonIntegrations()||void 0,visitor:(0,n.trimVisitor)(t)};var r,i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(49),n=r(28),i=l(r(50)),o=l(r(51)),a=l(r(73)),u=l(r(74));function l(e){return e&&e.__esModule?e:{default:e}}const c=[{name:n.IntegrationNames.Segment,classInstance:o.default},{name:n.IntegrationNames.GoogleAnalytics,classInstance:u.default},{name:n.IntegrationNames.Woopra,classInstance:i.default},{name:n.IntegrationNames.Fullstory,classInstance:a.default}];t.default=class{static pushEvent(e,t,r){c.forEach(({name:i,classInstance:o})=>{const a=i===n.IntegrationNames.GoogleAnalytics?e:s.EventNamesMap[i][e];o.pushEvent(a,t,r)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToRegex=void 0;t.stringToRegex=e=>{const t=/^\/(.*)\/(.*)$/;if(!e)return null;let r=e;t.test(r)||(r=`/${r}/`);const s=t.exec(r);try{r=new RegExp(s[1],s[2])}catch(e){return null}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.implication=void 0;t.implication=(e,t)=>!e||e&&t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(r(141)),n=r(1),i=l(r(95)),o=l(r(66)),a=l(r(17)),u=l(r(21));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d{constructor(){c(this,"requestsHandler",void 0),c(this,"workspaceKey",null)}async init(e){const t=new o.default(e);await t.init(),this.requestsHandler=new i.default(t,(0,s.default)("https://respondent.survicate.com"))}setWorkspaceKey(){if(this.workspaceKey||(this.workspaceKey=n.store.getState().backendData.workspaceKey),!this.workspaceKey)throw new Error("Workspace key not provided to BackendService.")}static getVisit(){return{page_url:window.location.href,platform:window.navigator.platform,user_agent:window.navigator.userAgent,referer:a.default.get().referrerUrl}}addRequest(e,t,r){window._svc.isPreview||(this.requestsHandler?(this.workspaceKey||this.setWorkspaceKey(),this.requestsHandler.addRequest({type:e,payload:t,wId:this.workspaceKey,surveyId:r,visit:d.getVisit()})):u.default.log({message:"There is no requestsHandler when adding a request.",stack:"Backend.tsx"}))}}t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=d(r(116)),n=d(r(117)),i=d(r(44)),o=r(72),a=r(42),u=r(40),l=r(1),c=d(r(65));function d(e){return e&&e.__esModule?e:{default:e}}let p=0;const v=async(e,t,r)=>(0,i.default)(t).post(`/workspaces/${e.wId}/surveys/${e.surveyId}/${e.type}`,r).then(()=>(e.type!==o.EndpointType.answered&&e.type!==o.EndpointType.closed||l.store.action(u.visitorIdentified)({visitor_uuid:r.visitor.uuid,surveyId:e.surveyId}),new n.default)).catch(async e=>{const{response:t}=e;return"Network Error"===e.message||!t||t.status>=500?(p+=1,await(0,c.default)(p>3?15e3:5e3),Promise.resolve(new s.default)):Promise.resolve(new n.default)});var f=e=>async t=>{if(-1===[o.EndpointType.answered,o.EndpointType.closed,o.EndpointType.seen].indexOf(t.type))return new s.default;let r;switch(t.type){case o.EndpointType.answered:r=(0,a.getAnsweredPayload)(t.payload,t.visit);break;case o.EndpointType.closed:r=(0,a.getClosedPayload)(t.payload,t.visit);break;case o.EndpointType.seen:r=(0,a.getSeenPayload)(t.payload);break;default:return new s.default}return v(t,e,r)};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.migrateToIDB=void 0;var s=d(r(68)),n=d(r(36)),i=r(25),o=r(29),a=d(r(33)),u=r(1),l=r(8),c=d(r(66));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){v(e,t,r[t])}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.migrateToIDB=async e=>{const t=p({},o.emptyVisitor);let r,d,v;async function f(e,t){if(e){const r=new s.default;await r.init(t);const n=new c.default(r);await n.init(),e.forEach(async e=>{await n.add(e)})}}n.default.each((s,o)=>{switch(o.split(`survi::${e}::`)[1]){case i.StorageKeysVisitor.uuid:t.uuid=s,n.default.remove(o,!0);break;case i.StorageKeysVisitor.attributes:t.attributes=(0,a.default)(s),n.default.remove(o,!0);break;case i.StorageKeysVisitor.customAttributes:t.customAttributes=(0,a.default)(s),n.default.remove(o,!0);break;case i.StorageKeysVisitor.engagedSurveys:t.engagedSurveys=(0,a.default)(s),n.default.remove(o,!0);break;case i.StorageKeysVisitor.displayedSurveys:t.displayedSurveys=(0,a.default)(s),n.default.remove(o,!0);break;case i.StorageKeysVisitor.identities:t.identities=(0,a.default)(s),n.default.remove(o,!0);break;case i.StorageKeysVisitor.tags:t.tags=(0,a.default)(s),n.default.remove(o,!0);break;case i.StorageKeysVisitor.visitsCount:t.visitsCount=(0,a.default)(s),n.default.remove(o,!0);break;case"SURVICATE-core-event-storage":r=(0,a.default)(s),d=[],Object.keys(r).forEach(e=>{d.push(p({},r[e]))}),n.default.remove(o,!0);break;case"SURVICATE-feedback-button-event-requestsHandler":r=(0,a.default)(s),v=[],Object.keys(r).forEach(e=>{v.push(p({},r[e]))}),n.default.remove(o,!0)}}),t.uuid&&u.store.action(l.saveVisitor)(t),await f(d,e),await f(v,e+"-fb")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(19),n=_(r(144)),i=r(71),o=_(r(145)),a=_(r(146)),u=_(r(147)),l=_(r(148)),c=_(r(149)),d=_(r(150)),p=_(r(151)),v=_(r(152)),f=_(r(153));function _(e){return e&&e.__esModule?e:{default:e}}t.default=class{static async areFulfilled({audiences:e,survey:t,visit:r,visitor:s}){const n=e.filter(e=>t.audiences_ids.includes(e.id));return(0,i.promiseLoop)(n.length,(e,t)=>e?Promise.resolve(!0):this.isUserInAudience(n[t],{visit:r,visitor:s}),!1)}static async isUserInAudience(e,t){return(await Promise.all(e.filters.map(e=>this.userPassesRule(e,t)))).every(e=>e)}static async userPassesRule(e,t){const r={[s.FilterName.attributes]:n.default,[s.FilterName.cookies]:o.default,[s.FilterName.device]:a.default,[s.FilterName.languages]:u.default,[s.FilterName.loggedInStatus]:l.default,[s.FilterName.tags]:c.default,[s.FilterName.visitDepth]:d.default,[s.FilterName.visitedUrls]:p.default,[s.FilterName.visitFrequency]:v.default,[s.FilterName.visitSource]:f.default}[e.name];if(!r)return!0;return await r.ruleFulfilled(e.parameters,t)!==e.exclude}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(19);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{static ruleFulfilled({attributes:e},{visitor:t}){return e.some(({name:e,value:r,type:i})=>{const o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){n(e,t,r[t])}))}return e}({},t.attributes,t.customAttributes);return i===s.FilterItemType.exact?""+o[e]==""+r:!!o[e]})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(53))&&s.__esModule?s:{default:s},i=r(19);t.default=class{static ruleFulfilled({cookies:e}){return e.some(({name:e,value:t,type:r})=>{const s=n.default.get(e);return r===i.FilterItemType.exact?""+s==""+t:!!s})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(19),i=(s=r(11))&&s.__esModule?s:{default:s};t.default=class{static ruleFulfilled({type:e},{visit:t}){return e===n.Device.all||(e===n.Device.mobile?this.isMobile(t.user_agent):!this.isMobile(t.user_agent))}static isMobile(e){return i.default.isDeviceMobileOrTablet(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static ruleFulfilled({list:e},{visit:t}){return e.some(e=>t.language.startsWith(e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(19);t.default=class{static ruleFulfilled({type:e},{visitor:t}){const r=t.identities&&t.identities.api&&t.identities.api.id,n=t.attributes.email;return e===s.LoggedInStatus.identified==!(!r&&!n)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static ruleFulfilled({list:e},{visitor:t}){return e.some(e=>t.tags.includes(e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static ruleFulfilled({count:e},{visit:t}){return e<t.views.length}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static ruleFulfilled({urls:e},{visit:t}){return e.some(e=>t.views.some(t=>new RegExp(e.regexp_text_pattern).test(t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,""))))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static ruleFulfilled({count:e},{visitor:t}){return 0===e?1===t.visitsCount:e<t.visitsCount}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(19),i=(s=r(44))&&s.__esModule?s:{default:s};t.default=class{static ruleFulfilled({type:e,urls:t,campaign:r},{visit:s}){switch(e){case n.VisitSourceType.direct:return!s.referrerUrl;case n.VisitSourceType.referral:return t.some(e=>new RegExp(e.regexp_text_pattern).test(s.referrerUrl.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"")));case n.VisitSourceType.utm:return this.isUTMCorrect(r,s);case n.VisitSourceType.search:return this.isReferrerSearchEngine(s.referrerUrl)}return!0}static async isReferrerSearchEngine(e){const{data:t}=await(0,i.default)("https://surveys-static.survicate.com").get("data/search_engine_regexes.json");if(!e||!t.length)return!1;for(let r=0;r<t.length;r+=1){if(new RegExp(t[r]).test(e))return!0}return!1}static isUTMCorrect(e,t){return this.isUTMParameterValid(e.medium,"utm_medium",t)&&this.isUTMParameterValid(e.content,"utm_content",t)&&this.isUTMParameterValid(e.name,"utm_campaign",t)&&this.isUTMParameterValid(e.source,"utm_source",t)&&this.isUTMParameterValid(e.term,"utm_term",t)}static isUTMParameterValid(e,t,r){if(!e.length)return!0;const s=this.getParameterByName(t,r.initialUrl);return e.some(e=>e===s)}static getParameterByName(e,t){const r=e.replace(/[\[\]]/g,"\\$&"),s=new RegExp(`[?&]${r}(=([^&#]*)|&|#|$)`).exec(t);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appearMethodParse=void 0;var s=r(7);t.appearMethodParse=e=>{switch(e){case s.AppearMethodApi.immediately:return s.AppearMethod.immediately;case s.AppearMethodApi.delayed:return s.AppearMethod.delayed;case s.AppearMethodApi.scroll:return s.AppearMethod.scroll;case s.AppearMethodApi.exitIntent:return s.AppearMethod.exitIntent}return s.AppearMethod.immediately}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(r(156)),n=o(r(157)),i=o(r(158));function o(e){return e&&e.__esModule?e:{default:e}}var a=class{constructor(){var e,t,r;e=this,t="TargetingTriggersRules",r=[new s.default,new i.default,new n.default],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}startTargeting(e){this.TargetingTriggersRules.forEach(t=>{t.stopListening(),t.startListening(e)})}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(7),i=(s=r(11))&&s.__esModule?s:{default:s},o=r(1),a=r(13),u=r(63);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(){l(this,"maxScrolled",0),l(this,"html",document.querySelector("html")),l(this,"surveysRemaining",0),l(this,"mobileHandler",(0,u.throttle)(()=>{const e=window.scrollY;e+50<this.maxScrolled&&e<=200&&this.fireEvent(),e+150<this.maxScrolled&&e>200&&this.fireEvent(),this.maxScrolled=Math.max(this.maxScrolled,e)},100)),l(this,"desktopHandler",(0,u.throttle)(e=>{e.clientY>20||this.fireEvent()},100))}fireEvent(){o.store.getState().surveyState.survey||(o.store.action(a.retarget)({exitIntent:!0}),setTimeout(()=>{o.store.getState().surveyState.survey&&(this.surveysRemaining-=1),0===this.surveysRemaining&&this.stopListening()},500))}startListening(e){const t=e.filter(e=>e.appear_method===n.AppearMethod.exitIntent);t.length&&(this.surveysRemaining=t.length,i.default.isDeviceMobileOrTablet()?window.addEventListener("scroll",this.mobileHandler):this.html.addEventListener("mouseleave",this.desktopHandler))}stopListening(){window.removeEventListener("scroll",this.mobileHandler),this.html.removeEventListener("mouseleave",this.desktopHandler)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(7),i=r(1),o=(s=r(54))&&s.__esModule?s:{default:s},a=r(13);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(){u(this,"loadTime",void 0),u(this,"intervalListener",void 0),u(this,"delayTimes",[]),this.loadTime=Date.now()}fireEvent(e){i.store.getState().surveyState.survey||(i.store.action(a.retarget)({delayed:e}),setTimeout(()=>{i.store.getState().surveyState.survey&&this.delayTimes.shift(),this.delayTimes.length||this.stopListening()},500))}startListening(e){const t=e.filter(e=>e.appear_method===n.AppearMethod.delayed);this.delayTimes=t.map(e=>e.display_delay).sort((0,o.default)().ascending),this.delayTimes.length&&(this.intervalListener=window.setInterval(()=>{const e=(Date.now()-this.loadTime)/1e3;e>=this.delayTimes[0]&&this.fireEvent(e)},1e3))}stopListening(){clearInterval(this.intervalListener)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(7),i=r(1),o=(s=r(54))&&s.__esModule?s:{default:s},a=r(63),u=r(13);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(){l(this,"html",document.querySelector("html")),l(this,"scrolls",[]),l(this,"scrollHandler",(0,a.throttle)(()=>{const e=Math.ceil(window.scrollY/(this.html.scrollHeight-this.html.clientHeight)*100);e>=this.scrolls[this.scrolls.length-1]&&this.fireEvent(e)},100))}fireEvent(e){i.store.getState().surveyState.survey||(i.store.action(u.retarget)({scroll:e}),setTimeout(()=>{i.store.getState().surveyState.survey&&this.scrolls.pop(),this.scrolls.length||this.stopListening()},500))}startListening(e){const t=e.filter(e=>e.appear_method===n.AppearMethod.scroll).map(e=>e.display_scroll).sort((0,o.default)().descending);t.length&&(this.scrolls=t,window.addEventListener("scroll",this.scrollHandler))}stopListening(){window.removeEventListener("scroll",this.scrollHandler)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=v(r(22)),n=r(28),i=r(75),o=r(160),a=r(161),u=v(r(51)),l=v(r(50)),c=r(162),d=v(r(164)),p=v(r(74));function v(e){return e&&e.__esModule?e:{default:e}}var f=class{constructor(){var e,t,r;r=[],(t="integrations")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}init(e=[]){this.integrations=e;const t=window._sva&&window._sva.integrations||{},r=window._sva&&window._sva.traits||{};(0,i.setIdentitiesFromURL)(s.default.params,e),(0,a.setIdentitiesFromSVA)(t,r,e),e.forEach(e=>{if(e.enabled)switch(e.provider){case n.IntegrationNames.Marketo:case n.IntegrationNames.Hubspot:case n.IntegrationNames.Pardot:setTimeout(()=>{(0,o.setIdentityFromCookie)(e.provider)},5e3);break;case n.IntegrationNames.GoogleAnalytics:p.default.init(e);break;case n.IntegrationNames.Segment:u.default.init();break;case n.IntegrationNames.Woopra:l.default.init();break;case n.IntegrationNames.ABTesting:d.default.init(e)}})}getAPIToAnsweredJsonIntegrations(){const e=this.integrations.find(e=>e.provider===n.IntegrationNames.Fullstory),t=this.integrations.find(e=>e.provider===n.IntegrationNames.SessionCam);return(0,c.getAPIToAnsweredIntegrations)({fullstory:!(!e||!e.enabled),sessionCam:!(!t||!t.enabled)})}};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIdentityFromCookie=void 0;var s,n=(s=r(53))&&s.__esModule?s:{default:s},i=r(28),o=r(1),a=r(8);const u={[i.IntegrationNames.Hubspot]:"hubspotutk",[i.IntegrationNames.Marketo]:"_mkto_trk"},l={[i.IntegrationNames.Pardot]:/^visitor_id[0-9]+$/g},c={[i.IntegrationNames.Hubspot]:"cookie",[i.IntegrationNames.Marketo]:"cookie",[i.IntegrationNames.Pardot]:"visitor_id"};t.setIdentityFromCookie=e=>{e!==i.IntegrationNames.Pardot?(e=>{const t=n.default.get(u[e]);t&&o.store.action(a.setVisitorIdentity)({identityProvider:e,key:c[e],value:t})})(e):(e=>{Object.keys(n.default.get()).forEach(t=>{l[e].test(t)&&o.store.action(a.setVisitorIdentity)({identityProvider:e,key:c[e],value:n.default.get(t)})})})(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIdentitiesFromSVA=void 0;var s=r(75),n=r(52),i=r(8),o=r(1);t.setIdentitiesFromSVA=(e={},t={},r)=>{Object.keys(e).forEach(t=>{(0,s.isIdentityProvider)(t)&&Object.keys(e[t]).forEach(s=>{const a=(r.find(e=>e.provider===t)||{whitelist:[]}).whitelist||[];(n.PROVIDERS_TRAITS_WHITELIST[t]||[]).concat(a).includes(s)&&o.store.action(i.setVisitorIdentity)({identityProvider:t,key:s,value:e[t][s]})})}),t[n.USER_ID_TRAIT]&&o.store.action(i.setVisitorIdentity)({identityProvider:n.Providers.Api,key:"id",value:t[n.USER_ID_TRAIT]})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIToAnsweredIntegrations=void 0;var s=r(163);t.getAPIToAnsweredIntegrations=({fullstory:e,sessionCam:t})=>{const r={};let n=!1;if(e){const e=window.FS&&"function"==typeof window.FS.getCurrentSessionURL&&window.FS.getCurrentSessionURL(!0)||void 0;e&&(r[s.AnsweredIntegration.fullstory]=e,n=!0)}if(t){const e=window.sessionCamRecorder&&"function"==typeof window.sessionCamRecorder.sessionId&&window.sessionCamRecorder.sessionId()||void 0;e&&(r[s.AnsweredIntegration.sessionCam]=e,n=!0)}return n?r:null}},function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.AnsweredIntegration=void 0,t.AnsweredIntegration=s,function(e){e.fullstory="fullstory_url",e.sessionCam="sessioncam_id"}(s||(t.AnsweredIntegration=s={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(53))&&s.__esModule?s:{default:s};t.default=class{static init({cookies:e}){e&&e.forEach(({cookie_name:e,cookie_random:t})=>{const r=Math.floor(Math.random()*parseInt(t,10)+1);n.default.set(e,""+r)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptySurveyState=void 0;t.emptySurveyState={survey:null,theme:null,pointsDisplayed:[],pointsForward:[],pointsAnswered:{},responseUuid:"",isMinimized:!1,isFinished:!1,isOverlayActive:!1,isSubmitButtonPresent:!1,isAlreadyAnswered:!1,isAnsweredByEmail:!1,triggeredPointPreview:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyBackendData=void 0;t.emptyBackendData={surveys:[],audiences:[],themes:[],integrations:[],workspaceKey:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=o(r(3)),i=o(r(168));function o(e){return e&&e.__esModule?e:{default:e}}var a=({progress:e})=>{const t=n.default.isChatTheme(),r=["sv__progress-bar","sv-progress-bar",i.default["progress-bar"],t?i.default["chat-theme"]:""];return(0,s.h)("div",{className:r.join(" ")},(0,s.h)("div",{className:"sv__progress-bar-fill sv-progress-bar-fill",style:{width:e+"%"}}))};t.default=a},function(e,t,r){var s=r(169);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,n);s.locals&&(e.exports=s.locals)},function(e,t,r){(t=e.exports=r(5)(!1)).push([e.i,"#survicate-box .survicate_progress-bar_tv6VS{position:absolute;top:0;left:0;width:100%;height:4px}#survicate-box .survicate_progress-bar_tv6VS>div{height:100%}#survicate-box .survicate_chat-theme_jN-vh{height:3px}",""]),t.locals={"progress-bar":"survicate_progress-bar_tv6VS","chat-theme":"survicate_chat-theme_jN-vh"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=o(r(3)),i=o(r(171));function o(e){return e&&e.__esModule?e:{default:e}}var a=({isFullPage:e})=>{const t=n.default.isChatTheme();if(!e){const e=[i.default.footer,"sv-col-small-button-bw",t?i.default["chat-theme"]:""];return(0,s.h)("div",{className:i.default["footer-wrapper"]+" sv__footer"},(0,s.h)("a",{href:"https://survicate.com/targeted-website-surveys/\n        ?utm_source=tws&utm_medium=footer&utm_content="+window.location.hostname,rel:"noopener noreferrer",target:"_blank",title:"Survicate",className:e.join(" ")},"Powered by Survicate"))}const r="https://survicate.com/\n    ?utm_source=widget&utm_medium=footer&utm_content="+window.location.hostname;return(0,s.h)("div",{className:"sv__footer"},(0,s.h)("p",null,"Powered by"),(0,s.h)("img",{src:"https://surveys-static.survicate.com/images/survicate_logo.svg",alt:"Survicate"}),(0,s.h)("p",null,"See how easy it is to ",(0,s.h)("a",{href:r},"create a survey"),"."))};t.default=a},function(e,t,r){var s=r(172);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,n);s.locals&&(e.exports=s.locals)},function(e,t,r){(t=e.exports=r(5)(!1)).push([e.i,"#survicate-box .survicate_footer_1Byg6,#survicate-box .survicate_footer-wrapper_2yP5r{display:inline-block}#survicate-box .survicate_footer_1Byg6{font-size:11px;padding:0 5px}#survicate-box .survicate_footer_1Byg6.survicate_chat-theme_3CzC8{text-align:center}",""]),t.locals={footer:"survicate_footer_1Byg6","footer-wrapper":"survicate_footer-wrapper_2yP5r","chat-theme":"survicate_chat-theme_3CzC8"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rating=void 0;var s,n=r(0),i=r(174),o=(s=r(3))&&s.__esModule?s:{default:s},a=r(31),u=r(14);t.Rating=e=>{const t=t=>{e.answer({answers:[{survey_question_answer_id:t.id,user_tag:(0,a.combineUserTags)(e.point.user_tag,t.user_tag),nextSurveyPointId:t.next_survey_point_id||e.point.next_survey_point_id}],textResponse:t.possible_answer,anonymizedTextResponse:t.possible_answer,value:t})},r=["sv__rating",e.point.answers.length<=7?"sv__short-rating":"",o.default.isChatTheme()?"sv__chat":""].join(" "),s=t=>e.value===t?"sv-rating sv-rating-selected":"sv-rating";return(0,n.h)("div",{className:r},[...e.point.answers].reverse().map(r=>(0,n.h)("button",{key:r.id,type:"button","data-value":r.possible_answer,className:s(r),onClick:()=>t(r),onKeyDown:e=>(0,u.keyboardClick)(e,()=>t(r),{preventDefault:!0})},(0,n.h)(i.RatingShapeComponent,{shape:e.point.settings.shape}),(0,n.h)("br",null),(0,n.h)("span",{className:"sv-col-fa sv__rating-label"},r.possible_answer))))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RatingShapeComponent=void 0;var s=r(0),n=r(12);t.RatingShapeComponent=({shape:e})=>{switch(e.toLowerCase()){case n.RatingShape.thumbs:return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22.99 22"},(0,s.h)("g",{id:"Warstwa_2","data-name":"Warstwa 2"},(0,s.h)("g",{id:"Warstwa_1-2","data-name":"Warstwa 1"},(0,s.h)("path",{d:"M22.2,12.21A3.13,3.13,0,0,0,23,10.08a2.79,2.79,0,0,0-2.75-2.75H16.29A2.3,2.3,0,0,1,16.41,7a1.87,1.87,0,0,1,.15-.32,1.84,1.84,0,0,0,.14-.25c.17-.33.31-.6.4-.81a6.14,6.14,0,0,0,.27-.86,4.37,4.37,0,0,0,.13-1.08V3.11a4.78,4.78,0,0,0-.07-.65,3.5,3.5,0,0,0-.17-.71,3.36,3.36,0,0,0-.34-.65,1.94,1.94,0,0,0-.57-.57,3.14,3.14,0,0,0-.86-.38A4.66,4.66,0,0,0,14.31,0a.91.91,0,0,0-.65.27,2.52,2.52,0,0,0-.48.72,4.16,4.16,0,0,0-.28.74c-.05.21-.11.5-.18.88s-.15.69-.19.86a5.13,5.13,0,0,1-.25.69,2.08,2.08,0,0,1-.44.69,21.61,21.61,0,0,0-1.45,1.72A22.37,22.37,0,0,1,9,8.3q-.73.81-1.08.84a1,1,0,0,0-.62.3.85.85,0,0,0-.25.63v9.18a.8.8,0,0,0,.27.63.88.88,0,0,0,.64.28,10.54,10.54,0,0,1,2.26.63l1.72.57c.41.13,1,.26,1.73.41a11,11,0,0,0,2.06.23h1.84a3.54,3.54,0,0,0,2.81-1.12,3.43,3.43,0,0,0,.7-2.59,2.86,2.86,0,0,0,.77-1.35,3,3,0,0,0,0-1.67,3,3,0,0,0,.61-2A3.41,3.41,0,0,0,22.2,12.21Zm-17.13-3H.92a.85.85,0,0,0-.65.27.91.91,0,0,0-.27.64v9.17a.91.91,0,0,0,.27.64.89.89,0,0,0,.65.27H5.07A.93.93,0,0,0,6,19.25V10.08A.93.93,0,0,0,5.07,9.17Z"}))));case n.RatingShape.stars:return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 23"},(0,s.h)("g",{id:"Warstwa_2","data-name":"Warstwa 2"},(0,s.h)("g",{id:"Warstwa_1-2","data-name":"Warstwa 1"},(0,s.h)("path",{d:"M12,0l3.71,7.57L24,8.79l-6,5.89L19.42,23,12,19.07,4.58,23,6,14.68,0,8.79,8.29,7.57Z"}))));default:return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.59 21.22"},(0,s.h)("g",{id:"Warstwa_2","data-name":"Warstwa 2"},(0,s.h)("g",{id:"Warstwa_1-2","data-name":"Warstwa 1"},(0,s.h)("path",{d:"M21.64,2a6.57,6.57,0,0,0-9.42,0l-.42.43L11.37,2A6.57,6.57,0,0,0,2,2a6.87,6.87,0,0,0,0,9.59l9.17,9.35h0a.92.92,0,0,0,1.33,0l9.17-9.35A6.87,6.87,0,0,0,21.64,2Z"}))))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(17))&&s.__esModule?s:{default:s},i=r(176);const o=/\{\{\s?([a-z]+)(?:\.([a-z_]+))?(?::([a-z0-9_]+))?(?:\s?\|\s?"([^"]*)")?\s?\}\}/g;var a;!function(e){e.visitor="visitor",e.answer="answer"}(a||(a={}));t.default=class{static replaceTags(e){return e&&e.replace(o,(e,t,r,s,n)=>{let i;switch(t){case a.visitor:i=this.getVisitorAttribute(r);break;case a.answer:i=this.getAnswer(parseInt(s,10));break;default:i=""}return i||n})}static getVisitorAttribute(e){return(0,i.getVisitorAttribute)(e)}static getAnswer(e){return n.default.getAnswer(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVisitorAttribute=void 0;var s=r(1);t.getVisitorAttribute=e=>{const{visitor:t}=s.store.getState();return t.attributes[e]||t.customAttributes[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonNext=void 0;var s=r(0),n=r(2),i=r(9),o=r(30);t.ButtonNext=({point:e,answer:t,setSubmitButtonPresent:r})=>{const a=e.cta_params||e.settings;(0,n.useEffect)(()=>{r(!0)},[e]);return(0,s.h)("div",{className:"sv__cta"},(0,s.h)(i.SubmitButton,{text:a.text,submit:()=>{t((0,o.getButtonNextAnswerEvent)({point:e}));const r=a;r.link&&window.open(r.link,r.open_new_card?"_blank":"")}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Nps=void 0;var s,n=r(0),i=r(2),o=(s=r(3))&&s.__esModule?s:{default:s},a=r(14),u=r(30);t.Nps=e=>{const[t,r]=(0,i.useState)(void 0);(0,i.useEffect)(()=>{r(void 0)},[e.point]);const s=t=>{r(t),e.answer((0,u.getNpsAnswerEvent)({value:t,point:e.point}))},l=e.point.answers?e.point.answers[0]:e.point.settings,c=["sv__nps",o.default.isChatTheme()?"sv__chat":""].join(" "),d=r=>(e.value||t)===r?"sv-bg-ba sv-bg-hov-ba sv-col-fa sv-border-bottom-ba sv__nps-selected sv-col-main":"sv-bg-ba sv-bg-hov-ba sv-col-fa sv-border-bottom-ba";return(0,n.h)("div",{className:"sv__nps-wrapper"},(0,n.h)("div",{className:c},[0,1,2,3,4,5,6,7,8,9,10].map(e=>(0,n.h)("button",{key:e,className:d(e),type:"button","data-value":e,onClick:()=>s(e),onKeyDown:t=>(0,a.keyboardClick)(t,()=>s(e),{preventDefault:!0})},e))),(0,n.h)("div",{className:"sv__nps-labels sv-col-fw"},(0,n.h)("div",{className:"sv__nps-labels-left"},"0 - ",l.text_on_the_left),(0,n.h)("div",{className:"sv__nps-labels-right"},"10 - ",l.text_on_the_right)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=r(47),i=r(76),o=r(20),a=r(9),u=r(35);function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){c(e,t,r[t])}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends s.Component{constructor({point:e,value:t,setSubmitButtonPresent:r}){super(),c(this,"updateComment",(e,t)=>{this.setState(({comments:r})=>({comments:l({},r,{[t]:e})}))}),c(this,"selectOption",e=>{this.setState(t=>{let r=[...t.selectedAnswers];return r.find(t=>t===e)?r=r.filter(t=>t!==e):r.push(e),{selectedAnswers:r}})}),c(this,"submit",()=>{const e=this.state.selectedAnswers.reduce((e,t)=>e?`${e}, ${t.possible_answer}`:""+t.possible_answer,"");this.props.answer({answers:this.state.selectedAnswers.map(e=>({survey_question_answer_id:e.id,user_tag:e.user_tag,content:this.state.comments[e.id]||null,nextSurveyPointId:this.props.point.next_survey_point_id})),textResponse:e,anonymizedTextResponse:e,value:{answers:this.state.selectedAnswers,comments:this.state.selectedAnswers.reduce((e,t)=>l({},e,{[t.id]:this.state.comments[t.id]||""}),{})}})}),this.state={pointId:e.id,selectedAnswers:t&&t.answers||[],comments:d.getComments(e,t),answers:(0,n.randomizeAnswers)(e),reducedAnswers:u.PreviewHelpers.reduceAnswers(e.answers)},r(!0)}static getComments(e,t){const r={};return e.answers.forEach(e=>{e.add_comment&&(r[e.id]=t&&t.comments[e.id]||"")}),r}static getDerivedStateFromProps({point:e,value:t,setSubmitButtonPresent:r},s){if(e.id===s.pointId&&window._svc.isPreview){const r=u.PreviewHelpers.reduceAnswers(e.answers);if(s.reducedAnswers===r&&s.answers.length===e.answers.length)return{};return{answers:u.PreviewHelpers.getChangedAnswers(e,s.answers),comments:l({},this.getComments(e,t),s.comments),reducedAnswers:r}}return e.id!==s.pointId||window._svc.isPreview?(r(!0),{pointId:e.id,selectedAnswers:t&&t.answers||[],comments:d.getComments(e,t),answers:(0,n.randomizeAnswers)(e),reducedAnswers:u.PreviewHelpers.reduceAnswers(e.answers)}):{}}render(){const{answers:e,selectedAnswers:t}=this.state;return(0,s.h)("div",{className:"sv__multiple-choice"},e.map(e=>{const r=!!t.find(t=>t===e);return(0,s.h)(i.ChoiceButton,{key:e.id,answer:e,display:o.CheckboxDisplay.square,isSelected:r,comment:this.state.comments[e.id],updateComment:t=>this.updateComment(t,e.id),select:()=>this.selectOption(e)})}),(0,s.h)(a.SubmitButton,{submit:this.submit,text:this.props.submitText}))}}var p=d;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffleArray=void 0;t.shuffleArray=e=>{const t=e.slice(0);for(let r=e.length-1;r>0;r-=1){const e=Math.floor(Math.random()*(r+1));[t[r],t[e]]=[t[e],t[r]]}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(3))&&s.__esModule?s:{default:s},i=r(10),o=r(20);t.default=class{static getCheckboxClasses(e){const t=["sv__checkbox"];switch(e.display===o.CheckboxDisplay.circle?t.push("sv__circle"):t.push("sv__square"),e.invalid&&t.push("sv-invalid"),n.default.themeType()){case i.ThemeType.chat:t.push("sv__chat");break;case i.ThemeType.simple:e.isSelected&&(t.push("sv__selected"),t.push("sv-bg-main"));break;default:case i.ThemeType.classic:e.colors===o.CheckboxColors.bw?t.push("sv-bg-bw sv-border-top-bw"):t.push("sv-nested-bg-bw")}return t.join(" ")}static getTickClasses(e){const t=["sv__tick","sv-checkbox-tick-border-color"];switch(n.default.themeType()){case i.ThemeType.classic:case i.ThemeType.chat:default:e===o.CheckboxDisplay.circle&&t.push("sv-bg-fa");break;case i.ThemeType.simple:t.push("sv-bg-fa")}return t.join(" ")}static getClasses(e){return{tickClasses:this.getTickClasses(e.display),checkboxClasses:this.getCheckboxClasses(e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n,i=r(0),o=r(2),a=r(12),u=r(31),l=(s=r(183))&&s.__esModule?s:{default:s},c=r(9);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.day="DD",e.month="MM",e.year="YYYY"}(n||(n={}));const p=(e,t)=>{let r=e;for(;r.length<t;)r="0"+r;return r};class v extends i.Component{constructor({point:e,value:t,setSubmitButtonPresent:r}){super(),d(this,"references",[(0,o.useRef)(),(0,o.useRef)(),(0,o.useRef)()]),d(this,"submit",()=>{const{point:e}=this.props,t=e.settings?e.settings.user_tag:e.user_tag;if(!this.allValid())return void(!e.mandatory&&this.allEmpty()?this.props.answer({answers:[{user_tag:t,content:""}],textResponse:"",anonymizedTextResponse:""}):this.setState({error:!0}));const r=p(this.state[n.day],2),s=p(this.state[n.month],2),i=this.state[n.year],o=e.answers.length?e.answers[0].user_tag:"";this.props.answer({answers:[{user_tag:(0,u.combineUserTags)(o,t),content:`${i}-${s}-${r}`,nextSurveyPointId:e.next_survey_point_id}],textResponse:`${i}-${s}-${r}`,anonymizedTextResponse:`${i}-${s}-${r}`,value:{[n.day]:r,[n.month]:s,[n.year]:i}})}),d(this,"getTimeUnitsOrder",()=>{const{answers:e}=this.props.point;switch(e&&e.length?e[0].date_order:this.props.point.settings.date_order){case a.DateOrder.DMY:return[n.day,n.month,n.year];case a.DateOrder.MDY:return[n.month,n.day,n.year];case a.DateOrder.YMD:default:return[n.year,n.month,n.day]}}),d(this,"isLengthMaxed",(e,t)=>e===n.year?4===t.length:e===n.month?2===t.length||parseInt(t,10)>1:2===t.length||parseInt(t,10)>3),d(this,"inputHandler",(e,t,r)=>{let s="";e.target instanceof HTMLInputElement&&(s=e.target.value),s=s.replace(/\D/g,""),this.setState({[t]:s}),this.isLengthMaxed(t,s)&&r<2&&this.references[r+1].current.focus()}),d(this,"allValid",()=>this.isInputValid(n.year)&&this.isInputValid(n.month)&&this.isInputValid(n.day)),d(this,"allEmpty",()=>!this.state[n.year]&&!this.state[n.month]&&!this.state[n.day]),d(this,"isInputValid",e=>{const t=parseInt(this.state[e],10);if(Number.isNaN(t))return!1;switch(e){case n.day:return t>=1&&t<=31;case n.month:return t>=1&&t<=12;case n.year:return t>=1e3&&t<=5e3;default:throw new Error("TimeUnit is incorrect.")}}),this.state={pointId:e.id,[n.day]:t&&t[n.day]||"",[n.month]:t&&t[n.month]||"",[n.year]:t&&t[n.year]||"",error:!1},r(!0)}static getDerivedStateFromProps({point:e,value:t,setSubmitButtonPresent:r},s){return e.id===s.pointId?{}:(r(!0),{pointId:e.id,[n.day]:t&&t[n.day]||"",[n.month]:t&&t[n.month]||"",[n.year]:t&&t[n.year]||"",error:!1})}render(){const e=this.getTimeUnitsOrder(),{answers:t}=this.props.point,r=t&&t.length?t[0].date_separator:this.props.point.settings.date_separator;return(0,i.h)("div",{className:"sv__date-wrapper"},(0,i.h)("div",{className:l.default.getDateClasses(this.state.error)},e.map((e,t)=>[(0,i.h)("input",{ref:this.references[t],key:e,className:l.default.getInputClasses(),value:this.state[e],onInput:r=>this.inputHandler(r,e,t),placeholder:e,maxLength:e.length,type:"text"}),2!==t?(0,i.h)("div",null,r):null])),(0,i.h)(c.SubmitButton,{submit:this.submit,text:this.props.submitText}))}}t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(3))&&s.__esModule?s:{default:s},i=r(10);t.default=class{static getDateClasses(e){const t=["sv__date"];switch(e&&t.push("sv__invalid"),n.default.themeType()){case i.ThemeType.chat:t.push("sv-col-fw"),t.push("sv__chat");break;case i.ThemeType.simple:break;case i.ThemeType.classic:default:t.push("sv-col-fw"),t.push("sv-nested-bg-bw")}return t.join(" ")}static getInputClasses(){return n.default.isClassicTheme()?"sv-nested-bg-bw sv-col-fw":"sv-col-fw"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(0),i=r(31),o=(s=r(85))&&s.__esModule?s:{default:s},a=r(9),u=r(35),l=r(47);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends n.Component{constructor(e){super(e),c(this,"submit",()=>{const e=this.state.value;if(!e)return this.props.point.mandatory,void this.setState({error:!0});this.props.answer({answers:[{survey_question_answer_id:e.id,user_tag:(0,i.combineUserTags)(this.props.point.user_tag,e.user_tag),nextSurveyPointId:e.next_survey_point_id}],value:e,textResponse:e.possible_answer,anonymizedTextResponse:e.possible_answer})}),c(this,"onSelectHandler",e=>{this.setState({value:this.props.point.answers.find(t=>t.id===e)||null})}),c(this,"mapOptions",()=>this.state.answers.map(e=>({value:e.id,label:e.possible_answer}))),this.state={pointId:e.point.id,value:e.value||null,error:!1,answers:(0,l.randomizeAnswers)(e.point),reducedAnswers:e.point.answers.reduce((e,t)=>`${e}${t.possible_answer}`,"")},e.setSubmitButtonPresent(!0)}static getDerivedStateFromProps({point:e,value:t,setSubmitButtonPresent:r},s){if(e.id===s.pointId&&window._svc.isPreview){const t=e.answers.reduce((e,t)=>`${e}${t.possible_answer}`,"");if(s.reducedAnswers===t&&s.answers.length===e.answers.length)return{};return{answers:u.PreviewHelpers.getChangedAnswers(e,s.answers),reducedAnswers:t}}return e.id!==s.pointId||window._svc.isPreview?(r(!0),{error:!1,value:t||null,pointId:e.id,answers:(0,l.randomizeAnswers)(e),reducedAnswers:e.answers.reduce((e,t)=>`${e}${t.possible_answer}`,"")}):{}}render(){return(0,n.h)("div",{className:"sv__dropdown-wrapper"},(0,n.h)(o.default,{options:this.mapOptions(),onSelect:this.onSelectHandler,onExpand:()=>this.setState({error:!1}),value:this.state.value?this.state.value.id:null,allowSearch:!0,isError:this.state.error}),(0,n.h)(a.SubmitButton,{submit:this.submit,text:this.props.submitText}))}}var p=d;t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(0),i=r(14),o=(s=r(78))&&s.__esModule?s:{default:s},a=r(186);var u=e=>(0,n.h)("ul",null,e.options.map((t,r)=>(0,n.h)("li",{key:t.value},(0,n.h)("button",{className:o.default.getButtonClasses(r===e.position),type:"button",onClick:()=>e.selectOption(t),onKeyDown:r=>(0,i.keyboardClick)(r,()=>e.selectOption(t))},(0,n.h)(a.HighlightText,{text:t.label,highlight:e.search})))));t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HighlightText=void 0;var s=r(0);t.HighlightText=({text:e,highlight:t})=>{const r=e.toLowerCase().indexOf(t.toLowerCase());return-1===r?(0,s.h)("span",null,e):(0,s.h)("span",null,e.substring(0,r),(0,s.h)("strong",null,e.substring(r,r+t.length)),e.substring(r+t.length,e.length)," ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(2),n=r(31),i=r(18),o=r(15);var a=(0,i.connect)(({isPreview:e})=>({isPreview:e}),o.actions)(({point:e,answer:t,isPreview:r})=>{const i=e.cta_params||e.settings;return(0,s.useEffect)(()=>{const s=parseInt(i.timeout_display_count||"0",10),o={answers:[{user_tag:(0,n.combineUserTags)(e.user_tag,i.user_tag_boolean&&i.user_tag||""),nextSurveyPointId:-1}],textResponse:"",anonymizedTextResponse:""};setTimeout(()=>{t(o),r||window.open(i.link,i.open_new_card?"_blank":"_self")},1e3*s)},[e]),null});t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocialPoint=void 0;var s,n=r(0),i=(s=r(3))&&s.__esModule?s:{default:s},o=r(14);t.SocialPoint=({point:e,answer:t})=>{const r=e.cta_params||e.settings,s=["sv__social-button",i.default.isChatTheme()?"sv__chat":""],a={answers:[{user_tag:e.user_tag,nextSurveyPointId:-1}],textResponse:"",anonymizedTextResponse:""};return(0,n.h)("div",{className:"sv__social"},r.facebook_link&&(0,n.h)("a",{className:[...s,"sv__fb"].join(" "),href:r.facebook_link,target:"_blank",rel:"noopener noreferrer",onClick:()=>t(a),onKeyDown:e=>(0,o.keyboardClick)(e,()=>t(a),{preventDefault:!0})},(0,n.h)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{d:"m6.490006,20l0,-9.12l2.95,0l0.44,-3.56l-3.39,0l0,-2.27a1.45,1.45 0 0 1 1.7,-1.73l1.81,0l0,-3.18a23.39,23.39 0 0 0 -2.64,-0.14c-2.61,0 -4.4,1.66 -4.4,4.7l0,2.62l-3,0l0,3.56l3,0l0,9.12l3.54,0l-0.01,0z"})),"Like"),r.twitter_link&&(0,n.h)("a",{className:[...s,"sv__twitter"].join(" "),href:r.twitter_link,target:"_blank",rel:"noopener noreferrer",onClick:()=>t(a),onKeyDown:e=>(0,o.keyboardClick)(e,()=>t(a),{preventDefault:!0})},(0,n.h)("svg",{width:"17",height:"15",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{d:"m17,1.78a6.55,6.55 0 0 1 -2,0.6a3.76,3.76 0 0 0 1.53,-2.09a6.66,6.66 0 0 1 -2.21,0.92a3.36,3.36 0 0 0 -2.55,-1.2a3.65,3.65 0 0 0 -3.49,3.79a4.1,4.1 0 0 0 0.09,0.86a9.67,9.67 0 0 1 -7.19,-4a4,4 0 0 0 -0.47,1.9a3.88,3.88 0 0 0 1.55,3.15a3.27,3.27 0 0 1 -1.58,-0.47l0,0a3.72,3.72 0 0 0 2.8,3.71a3.23,3.23 0 0 1 -1.58,0.06a3.54,3.54 0 0 0 3.26,2.63a6.66,6.66 0 0 1 -4.33,1.62a6.56,6.56 0 0 1 -0.83,-0.05a9.32,9.32 0 0 0 5.35,1.7c6.42,0 9.92,-5.77 9.92,-10.77q0,-0.25 0,-0.49a7.45,7.45 0 0 0 1.73,-1.87z"})),"Follow"),r.linkedin_link&&(0,n.h)("a",{className:[...s,"sv__linkedin"].join(" "),href:r.linkedin_link,target:"_blank",rel:"noopener noreferrer",onClick:()=>t(a),onKeyDown:e=>(0,o.keyboardClick)(e,()=>t(a),{preventDefault:!0})},(0,n.h)("svg",{width:"21px",height:"21px"},(0,n.h)("path",{d:"M1.06284545,7.43996625 L5.21369002,7.43996625 L5.21369002,20.793119 L1.06284545,20.793119 L1.06284545,7.43996625 Z M3.13521243,0.793994886 C4.45946716,0.793994886 5.53580603,1.87221749 5.53580603,3.19878807 C5.53580603,4.52535865 4.45946716,5.60620323 3.13608537,5.60620323 C1.80988051,5.60331939 0.735360446,4.52731106 0.732,3.19878807 C0.732,2.56054285 0.985278036,1.94847675 1.43604323,1.49741533 C1.88680842,1.0463539 2.4980818,0.793300051 3.13521243,0.793994886 M7.80545816,7.43996625 L11.7790953,7.43996625 L11.7790953,9.26498457 L11.8340907,9.26498457 C12.3875366,8.2156209 13.7388526,7.10854222 15.7623348,7.10854222 C19.9576994,7.10854222 20.732,9.87448997 20.732,13.469435 L20.732,20.7939935 L16.5916307,20.7939935 L16.5916307,14.2984323 C16.5916307,12.7506209 16.5636966,10.7568299 14.438953,10.7568299 C12.2827835,10.7568299 11.9510651,12.4445565 11.9510651,14.1847513 L11.9510651,20.7904956 L7.81156877,20.7904956 L7.81156877,7.43734284 L7.80545816,7.43996625 Z"})),"Follow"))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmileyScale=void 0;var s,n=r(0),i=r(190),o=r(14),a=(s=r(3))&&s.__esModule?s:{default:s},u=r(30);t.SmileyScale=e=>{const t=t=>{e.answer((0,u.getSmileyScaleAnswerEvent)({answer:t,point:e.point}))},r=["sv__smiley-scale",3===e.point.answers.length?"sv__three-smileys":""].join(" "),s=t=>{const r="sv__btn-"+t.possible_answer.split(" ").join("_");return e.value?"sv__selected "+r:r};return(0,n.h)("div",{className:r},e.point.answers.map(e=>(0,n.h)("button",{key:e.id,className:s(e),type:"button",onClick:()=>t(e),onKeyDown:r=>(0,o.keyboardClick)(r,()=>t(e),{preventDefault:!0})},(0,n.h)(i.Smiley,{smileyType:e.possible_answer,modern:a.default.isSimpleTheme()}))))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Smiley=void 0;var s,n=r(0),i=r(12),o=(s=r(11))&&s.__esModule?s:{default:s};t.Smiley=({smileyType:e,modern:t})=>{const r=o.default.isOSMac();switch(e){case i.SmileyScalePossibleAnswers.verySad:return((e,t)=>e?t?(0,n.h)("span",{role:"img","aria-label":"very sad"},"😡"):(0,n.h)("span",{className:"sv__very-sad"}):(0,n.h)("svg",{role:"img","aria-label":"very sad",className:"sv__very-sad",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44"},(0,n.h)("path",{d:"M22,25c-5.08,0-11,4-11,9,6-2,16-2,22,0C33,29,27,25,22,25Z"}),(0,n.h)("path",{d:"M19.69,14.74c0,2.48-1.09,4.54-2.41,4.54s-2.36-2.06-2.36-4.54,1.05-4.46,2.36-4.46S19.69,12.25,19.69,14.74Zm9.23,0c0,2.48-1.09,4.54-2.41,4.54s-2.36-2.06-2.36-4.54,1-4.46,2.36-4.46S28.92,12.25,28.92,14.74Z"})))(t,r);case i.SmileyScalePossibleAnswers.sad:return((e,t)=>e?t?(0,n.h)("span",{role:"img","aria-label":"sad"},"🙁"):(0,n.h)("span",{className:"sv__sad"}):(0,n.h)("svg",{role:"img","aria-label":"sad",className:"sv__sad",viewBox:"0 0 60 60"},(0,n.h)("path",{d:"M27,19.84c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S27,17.07,27,19.84Zm13.18,0c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S40.16,17.07,40.16,19.84ZM30,34.08a16,16,0,0,0-15,9.53L18.51,45A12.38,12.38,0,0,1,30,37.69,12.54,12.54,0,0,1,41.49,45.1L45,43.62A16.36,16.36,0,0,0,30,34.08Z"})))(t,r);case i.SmileyScalePossibleAnswers.neutral:return((e,t)=>e?t?(0,n.h)("span",{role:"img","aria-label":"neutral"},"😐"):(0,n.h)("span",{className:"sv__neutral"}):(0,n.h)("svg",{role:"img","aria-label":"neutral",className:"sv__neutral",viewBox:"0 0 60 60"},(0,n.h)("path",{d:"M27.16,19.84c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S27.16,17.07,27.16,19.84Zm13.18,0c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S40.35,17.07,40.35,19.84ZM17,38.5H43a1,1,0,0,1,1,1v2a1,1,0,0,1-1,1H17a1,1,0,0,1-1-1v-2A1,1,0,0,1,17,38.5Z"})))(t,r);case i.SmileyScalePossibleAnswers.happy:return((e,t)=>e?t?(0,n.h)("span",{role:"img","aria-label":"happy"},"🙂"):(0,n.h)("span",{className:"sv__happy"}):(0,n.h)("svg",{role:"img","aria-label":"happy",className:"sv__happy",viewBox:"0 0 60 60"},(0,n.h)("path",{d:"M27,19.84c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S27,17.07,27,19.84Zm13.18,0c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S40.16,17.07,40.16,19.84ZM30,45.48a16,16,0,0,1-15-9.53l3.51-1.42A12.38,12.38,0,0,0,30,41.87a12.54,12.54,0,0,0,11.49-7.41L45,35.95A16.36,16.36,0,0,1,30,45.48Z"})))(t,r);case i.SmileyScalePossibleAnswers.veryHappy:return((e,t)=>e?t?(0,n.h)("span",{role:"img","aria-label":"very happy"},"😍"):(0,n.h)("span",{className:"sv__very-happy"}):(0,n.h)("svg",{role:"img","aria-label":"very happy",className:"sv__very-happy",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44"},(0,n.h)("path",{d:"M26.51,19.28c1.32,0,2.41-2.06,2.41-4.54s-1.09-4.46-2.41-4.46-2.36,2-2.36,4.46S25.19,19.28,26.51,19.28Zm-9.23,0c1.32,0,2.41-2.06,2.41-4.54s-1.09-4.46-2.41-4.46-2.36,2-2.36,4.46S16,19.28,17.28,19.28ZM11,25c0,5,6,9,11,9s11-4,11-9C27,27,17,27,11,25Z"})))(t,r);default:throw new Error("Invalid Smiley Type")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=r(64),i=v(r(54)),o=r(86),a=v(r(79)),u=r(192),l=r(9),c=r(26),d=r(35),p=v(r(193));function v(e){return e&&e.__esModule?e:{default:e}}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){_(e,t,r[t])}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends s.Component{constructor({point:e,value:t,setSubmitButtonPresent:r}){super(),_(this,"updateValue",(e,t)=>{const r=[...this.state.values],s=[...this.state.invalid.values];r[t]=e,s[t]=!1,this.setState(e=>({values:r,invalid:f({},e.invalid,{values:s})}))}),_(this,"setConfirmation",()=>{this.setState(e=>({isConfirmed:!e.isConfirmed,invalid:f({},e.invalid,{confirmation:!1})}))}),_(this,"submit",()=>{this.validate()&&this.props.answer({answers:this.state.fields.map((e,t)=>({answer_type:e.field_type,content:this.state.values[t],user_tag:this.props.point.user_tag,nextSurveyPointId:this.props.point.next_survey_point_id})),value:this.state.values,textResponse:"",anonymizedTextResponse:""})});const{fields:s,confirmation:n,security:i}=y.destructureFields(e);this.state={pointId:e.id,fields:s,values:t||s.map(()=>""),invalid:{values:s.map(()=>!1),confirmation:!1},isConfirmed:!!t,confirmation:n,security:i,reducedState:d.PreviewHelpers.reduceContactForm(e)},r(!0)}static destructureFields(e){const t=e.fields.filter(({field_type:e})=>e!==n.FormFieldTypes.confirmation&&e!==n.FormFieldTypes.security_info).sort((0,i.default)("order_number").ascending);let r=e.fields.find(({field_type:e})=>e===n.FormFieldTypes.confirmation),s=e.fields.find(({field_type:e})=>e===n.FormFieldTypes.security_info);return!r&&e.settings&&(r=e.settings.consent?{label:e.settings.consent_text}:""),!s&&e.settings&&(s=e.settings.disclaimer?{label:e.settings.disclaimer_text}:""),{fields:t,confirmation:r,security:s}}static getDerivedStateFromProps({point:e,value:t,setSubmitButtonPresent:r},s){if(e.id===s.pointId&&!window._svc.isPreview)return{};if(e.id===s.pointId&&window._svc.isPreview){const{fields:t,confirmation:r,security:n}=y.destructureFields(e),i=d.PreviewHelpers.reduceContactForm(e);return i===s.reducedState?{}:{invalid:{values:t.map(()=>!1),confirmation:!1},values:d.PreviewHelpers.reorderContactFormValues(s.values,t,s.fields),fields:t,confirmation:r,security:n,reducedState:i}}const{fields:n,confirmation:i,security:o}=y.destructureFields(e);return r(!0),{pointId:e.id,values:t||n.map(()=>""),invalid:{values:n.map(()=>!1),confirmation:!1},isConfirmed:!!t,fields:n,confirmation:i,security:o,reducedState:d.PreviewHelpers.reduceContactForm(e)}}validate(){const{invalid:e,values:t,fields:r}=this.state,s={values:e.values.map(()=>!1),confirmation:!1};let i=!0;return this.state.confirmation&&!this.state.isConfirmed&&(s.confirmation=!0,i=!1),r.forEach((e,r)=>{const o=t[r];e.required&&!o&&(s.values[r]=!0,i=!1),e.field_type===n.FormFieldTypes.email&&o&&!/^[\S]+\@[\S]+$/.test(o)&&(s.values[r]=!0,i=!1)}),this.setState({invalid:s}),i}render(){const{fields:e,confirmation:t,security:r,invalid:n,isConfirmed:i,values:d}=this.state;return(0,s.h)("div",{className:"sv__contact-form"},e.map((e,t)=>(0,s.h)(o.Field,{key:e.id,label:e.label,required:e.required,value:d[t],invalid:n.values[t],type:e.field_type,onInput:e=>this.updateValue(e,t)})),t&&(0,s.h)(u.Confirmation,{isConfirmed:i,isInvalid:n.confirmation,setConfirmation:this.setConfirmation,label:t.label||""}),(0,s.h)(l.SubmitButton,{submit:this.submit,text:this.props.submitText}),r&&(0,s.h)("div",{className:a.default.getSecurityClasses()},(0,s.h)(p.default,null),(0,s.h)(c.Injectable,{inline:!0,content:r.label||""})))}}t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Confirmation=void 0;var s,n=r(0),i=(s=r(3))&&s.__esModule?s:{default:s},o=r(20),a=r(26);t.Confirmation=({isConfirmed:e,isInvalid:t,setConfirmation:r,label:s})=>(0,n.h)("div",{role:"button",className:"sv__contact-form-confirmation",onClick:()=>{i.default.isSimpleTheme()&&r()}},(0,n.h)(o.Checkbox,{isSelected:e,onKeyboardClick:r,onClick:e=>{e.stopPropagation(),r()},display:o.CheckboxDisplay.square,colors:o.CheckboxColors.nestedInBw,invalid:t}),(0,n.h)("div",{role:"button",className:"sv-col-fw",onClick:()=>{i.default.isSimpleTheme()||r()}},(0,n.h)(a.Injectable,{content:s})))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.styles;var t=n({},e);return delete t.styles,(0,s.h)("svg",n({width:"16",height:"16",viewBox:"2 -1 16 16",xmlns:"http://www.w3.org/2000/svg"},t),[" ",(0,s.h)("path",{d:"M13.33,9.31a0.63,0.63,0,0,1,.47.2A0.67,0.67,0,0,1,14,10v4.81a0.67,0.67,0,0,1-.2.48,0.63,0.63,0,0,1-.47.2H6.67a0.63,0.63,0,0,1-.47-0.2A0.67,0.67,0,0,1,6,14.81V10a0.67,0.67,0,0,1,.2-0.48,0.63,0.63,0,0,1,.47-0.2H7.33V7.25a2.69,2.69,0,0,1,.78-1.94,2.6,2.6,0,0,1,3.77,0,2.69,2.69,0,0,1,.78,1.94V9.31h0.67ZM8.67,7.25V9.31h2.67V7.25a1.35,1.35,0,0,0-.39-1,1.31,1.31,0,0,0-1.89,0A1.35,1.35,0,0,0,8.67,7.25Z"},[])," "])};var s=r(0);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThankYou=void 0;var s=r(2);t.ThankYou=({point:e,answer:t})=>((0,s.useEffect)(()=>{const r={answers:[{user_tag:e.user_tag,nextSurveyPointId:-1}],textResponse:"",anonymizedTextResponse:""};t(r)},[e]),null)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(0),i=r(77),o=(s=r(196))&&s.__esModule?s:{default:s},a=r(9);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends n.Component{constructor({point:e,value:t,setSubmitButtonPresent:r}){super(),u(this,"inputHandler",e=>{e.preventDefault();let t="";e.target instanceof HTMLTextAreaElement&&((0,i.autoGrow)(e.target),t=e.target.value),this.setState({content:t,error:!1})}),u(this,"submit",()=>{this.state.content||!this.props.point.mandatory?this.props.answer({answers:[{content:this.state.content,user_tag:this.props.point.user_tag,nextSurveyPointId:this.props.point.next_survey_point_id}],textResponse:this.state.content,anonymizedTextResponse:"",value:this.state.content}):this.setState({error:!0})}),this.state={pointId:e.id,content:t||"",error:!1},r(!0)}static getDerivedStateFromProps({point:e,value:t,setSubmitButtonPresent:r},s){return e.id===s.pointId?{}:(r(!0),{pointId:e.id,content:t||"",error:!1})}render(){return(0,n.h)("div",{className:"sv__text-question-wrapper"},(0,n.h)("textarea",{className:o.default.getTextClasses(this.state.error),value:this.state.content,onInput:e=>{this.inputHandler(e)}}),(0,n.h)(a.SubmitButton,{submit:this.submit,text:this.props.submitText}))}}t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=(s=r(3))&&s.__esModule?s:{default:s};t.default=class{static getTextClasses(e){const t=["sv__text-question"];return n.default.isClassicTheme()?(t.push("sv-nested-bg-bw"),t.push("sv-col-fa")):n.default.isSimpleTheme()&&t.push("sv-border-color-main"),e&&t.push("sv-invalid"),t.join(" ")}}},,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(10),n=r(7),i=r(1);t.default=class{static backgroundColor(){const{theme:e}=i.store.getState().surveyState;return e?e.type===s.ThemeType.classic?e.color_scheme.bg_widget:e.color_scheme.main_color:""}static avatarSettings(){const{theme:e}=i.store.getState().surveyState;return e&&e.settings&&e.settings.avatar_name&&e.settings||null}static getSurveyClasses(){const{theme:e,survey:t,isMinimized:r}=i.store.getState().surveyState;if(!t)return"";const o=["sv__survey"];e&&e.type===s.ThemeType.chat?o.push("sv__chat-theme"):o.push("sv__classic-theme");const a={[n.TWSPosition.right]:"sv__position-right",[n.TWSPosition.left]:"sv__position-left",[n.TWSPosition.topLeft]:"sv__position-top-left",[n.TWSPosition.topRight]:"sv__position-top-right",[n.TWSPosition.center]:"sv__position-center"};return o.push(a[t.presentation_style]),o.push("sv-bg-bw"),r&&o.push("sv__minimized"),o.join(" ")}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var s=r(293);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,n);s.locals&&(e.exports=s.locals)},function(e,t,r){(t=e.exports=r(5)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,700);",""]),t.push([e.i,"#survicate-box{\n  /*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */}#survicate-box html{line-height:1.15;-webkit-text-size-adjust:100%}#survicate-box body{margin:0}#survicate-box h1{font-size:2em;margin:.67em 0}#survicate-box hr{-webkit-box-sizing:content-box;box-sizing:content-box;height:0;overflow:visible}#survicate-box pre{font-family:monospace,monospace;font-size:1em}#survicate-box a{background-color:rgba(0,0,0,0)}#survicate-box abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}#survicate-box b,#survicate-box strong{font-weight:bolder}#survicate-box code,#survicate-box kbd,#survicate-box samp{font-family:monospace,monospace;font-size:1em}#survicate-box small{font-size:80%}#survicate-box sub,#survicate-box sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}#survicate-box sub{bottom:-.25em}#survicate-box sup{top:-.5em}#survicate-box img{border-style:none}#survicate-box button,#survicate-box input,#survicate-box optgroup,#survicate-box select,#survicate-box textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}#survicate-box button,#survicate-box input{overflow:visible}#survicate-box button,#survicate-box select{text-transform:none}#survicate-box [type=button],#survicate-box [type=reset],#survicate-box [type=submit],#survicate-box button{-webkit-appearance:button}#survicate-box [type=button]::-moz-focus-inner,#survicate-box [type=reset]::-moz-focus-inner,#survicate-box [type=submit]::-moz-focus-inner,#survicate-box button::-moz-focus-inner{border-style:none;padding:0}#survicate-box [type=button]:-moz-focusring,#survicate-box [type=reset]:-moz-focusring,#survicate-box [type=submit]:-moz-focusring,#survicate-box button:-moz-focusring{outline:1px dotted ButtonText}#survicate-box fieldset{padding:.35em .75em .625em}#survicate-box legend{-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}#survicate-box progress{vertical-align:baseline}#survicate-box textarea{overflow:auto}#survicate-box [type=checkbox],#survicate-box [type=radio]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:0}#survicate-box [type=number]::-webkit-inner-spin-button,#survicate-box [type=number]::-webkit-outer-spin-button{height:auto}#survicate-box [type=search]{-webkit-appearance:textfield;outline-offset:-2px}#survicate-box [type=search]::-webkit-search-decoration{-webkit-appearance:none}#survicate-box ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}#survicate-box details{display:block}#survicate-box summary{display:list-item}#survicate-box [hidden],#survicate-box template{display:none}#survicate-box h1,#survicate-box h2,#survicate-box h3,#survicate-box h4{color:#29292a;font-weight:400;margin:0 0 16px;padding:0}#survicate-box .h1,#survicate-box h1{font-size:24px}#survicate-box .h2,#survicate-box h2{font-size:18px}#survicate-box .h3,#survicate-box h3{font-size:16px}#survicate-box .h4,#survicate-box h4{font-size:14px}#survicate-box .g-row{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:-16px;margin-left:-16px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}#survicate-box div[class*=g-col]{-webkit-box-sizing:border-box;box-sizing:border-box;padding-right:16px;padding-left:16px}#survicate-box .g-col{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0}#survicate-box .g-col-4{max-width:33.33333%;-webkit-flex-basis:33.33333%;-ms-flex-preferred-size:33.33333%;flex-basis:33.33333%}#survicate-box *{font-family:Open sans,sans-serif;font-size:14px;line-height:normal;-webkit-box-sizing:border-box;box-sizing:border-box;outline:none}#survicate-box .sv__outline :focus{outline:1px solid #87cefa}#survicate-box button{padding:3px;display:inline-block;margin:0;border:none;cursor:pointer}#survicate-box p{margin:0}#survicate-box a{text-decoration:none}#survicate-box .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}#survicate-box .sv-invalid.sv-invalid.sv-invalid{border:1px solid #c00}",""])},function(e,t,r){var s=r(295);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,n);s.locals&&(e.exports=s.locals)},function(e,t,r){(e.exports=r(5)(!1)).push([e.i,'#survicate-box .sv__choice-button{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:10px;width:100%;text-align:left;font-weight:500;margin:5px 0;cursor:pointer;-webkit-transition:background-color .3s;-o-transition:background-color .3s;transition:background-color .3s;border-radius:4px}#survicate-box .sv__choice-button>div:last-child{width:100%}#survicate-box .sv__choice-button textarea{margin-top:5px;border-left:none;border-right:none;border-bottom:none;resize:none;border-radius:4px;padding:5px;height:44px;max-height:72px;width:100%}#survicate-box .sv__choice-button.sv__chat{padding:0;margin:0 0 10px}#survicate-box .sv__choice-button.sv__chat textarea{margin-top:0;padding:4px 0;border-top:none;border-radius:0;border-bottom:1px solid #eff3f5}#survicate-box .sv__choice-button.sv__chat .sv__selected{font-weight:700}#survicate-box .sv__choice-button .sv__checkbox{-webkit-box-flex:1;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}#survicate-box .sv__multiple-choice .sv__submit-button-wrapper{margin-top:15px}#survicate-box .sv__rating{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}#survicate-box .sv__rating svg{height:25px;width:25px;fill:#fff}#survicate-box .sv__rating button{background:none;padding:0;max-width:10%}#survicate-box .sv__rating span{font-size:12px;font-weight:200}#survicate-box .sv__rating.sv__chat svg{fill:#eff3f5}#survicate-box .sv__date{border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;margin-bottom:15px}#survicate-box .sv__date input{width:30%;background:inherit;border:none;text-align:center}#survicate-box .sv__date div,#survicate-box .sv__date input{padding:5px;display:inline-block}#survicate-box .sv__date.sv__chat{border-radius:0;border-bottom:1px solid #eff3f5}#survicate-box .sv__date.sv__invalid{border:1px solid #c00}#survicate-box .sv__date.sv__invalid.sv__chat{border-style:none none solid}#survicate-box .sv__smiley-scale{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}#survicate-box .sv__smiley-scale button{background-color:rgba(0,0,0,0)}#survicate-box .sv__smiley-scale button:not(:last-child){margin-right:10px}#survicate-box .sv__smiley-scale svg{border-radius:50%;height:40px;width:40px;-webkit-transition:background-color .3s;-o-transition:background-color .3s;transition:background-color .3s}#survicate-box .sv__smiley-scale.sv__three-smileys svg{height:60px;width:60px}#survicate-box .sv__smiley-scale .sv__very-sad{background-color:#be3f32;border-bottom:1px solid #451712}#survicate-box .sv__smiley-scale .sv__very-sad:hover{background-color:#d15d52}#survicate-box .sv__smiley-scale .sv__very-sad path{fill:#963227}#survicate-box .sv__smiley-scale .sv__sad{background-color:#e74c3c;border-bottom:1px solid #7b190f}#survicate-box .sv__smiley-scale .sv__sad:hover{background-color:#ed7669}#survicate-box .sv__smiley-scale .sv__sad path{fill:#d62c1a}#survicate-box .sv__smiley-scale .sv__neutral{background-color:#ff9800;border-bottom:1px solid #663d00}#survicate-box .sv__smiley-scale .sv__neutral:hover{background-color:#ffad33}#survicate-box .sv__smiley-scale .sv__neutral path{fill:#cc7a00}#survicate-box .sv__smiley-scale .sv__happy{background-color:#5cb45e;border-bottom:1px solid #265227}#survicate-box .sv__smiley-scale .sv__happy:hover{background-color:#7fc481}#survicate-box .sv__smiley-scale .sv__happy path{fill:#469748}#survicate-box .sv__smiley-scale .sv__very-happy{background-color:#438345;border-bottom:1px solid #0f1e10}#survicate-box .sv__smiley-scale .sv__very-happy:hover{background-color:#54a557}#survicate-box .sv__smiley-scale .sv__very-happy path{fill:#326133}#survicate-box .sv__ie .sv__smiley-scale button{background:rgba(0,0,0,0)}#survicate-box .sv__text-question{min-height:80px;border:none;resize:none;border-radius:4px;padding:10px;max-height:200px;width:100%}#survicate-box .sv__chat-theme .sv__text-question{border:1px solid #eff3f5;border-radius:0}#survicate-box .sv__social-button{display:block;position:relative;color:#fff;border-radius:4px;margin-bottom:10px;padding:10px;font-weight:900;text-align:center;-webkit-transition:background-color .3s;-o-transition:background-color .3s;transition:background-color .3s}#survicate-box .sv__social-button.sv__chat{border-radius:40px}#survicate-box .sv__social-button.sv__fb{background-color:#3579ea;border-bottom:1px solid #11192b}#survicate-box .sv__social-button.sv__fb:hover{background-color:#165ed6}#survicate-box .sv__social-button.sv__twitter{background-color:#4aa1ec;border-bottom:1px solid #0f5f9b}#survicate-box .sv__social-button.sv__twitter:hover{background-color:#1c89e7}#survicate-box .sv__social-button.sv__twitter svg{left:17px;top:12px}#survicate-box .sv__social-button.sv__linkedin{background-color:#2a66bc;border-bottom:1px solid #0f5f9b}#survicate-box .sv__social-button.sv__linkedin:hover{background-color:#4480d5}#survicate-box .sv__social-button.sv__linkedin svg{left:17px}#survicate-box .sv__social-button svg{position:absolute;fill:#fff;left:20px}#survicate-box .sv__nps{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}#survicate-box .sv__nps button{text-align:center;padding:initial;height:28px;width:20px;border-radius:4px}#survicate-box .sv__nps.sv__chat button{background-color:#eff3f5;border-color:#eff3f5}#survicate-box .sv__nps.sv__chat button:hover{-webkit-box-shadow:0 0 5px rgba(0,0,0,.2);box-shadow:0 0 5px rgba(0,0,0,.2)}#survicate-box .sv__nps-labels{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:5px}#survicate-box .sv__nps-labels div{font-size:11px}#survicate-box .sv__position-center .sv__nps button{width:100%;margin:0 2px;height:45px}#survicate-box .sv__contact-form-confirmation{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:100%}#survicate-box .sv__contact-form-confirmation *{-webkit-box-flex:0;-webkit-flex:none;-ms-flex:none;flex:none}#survicate-box .sv__contact-form-confirmation>div:last-child{cursor:pointer;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1}#survicate-box .sv__contact-form-security{font-size:12px;margin-bottom:5px}#survicate-box .sv__contact-form-field{position:relative;margin-top:10px;width:100%;border-radius:4px;margin-bottom:10px}#survicate-box .sv__contact-form-field.sv__light span{color:#fff}#survicate-box .sv__contact-form-field.sv__light input:focus{border-color:#fff}#survicate-box .sv__contact-form-field.sv__dark input:focus{border-color:#000}#survicate-box .sv__contact-form-field.sv__chat{padding:5px 0}#survicate-box .sv__contact-form-field.sv__chat input{padding:0;border-color:#eff3f5;border-radius:0;border-style:none none solid}#survicate-box .sv__contact-form-field.sv__chat input:focus{border-color:#5cb45e}#survicate-box .sv__contact-form-field.sv__chat span{color:#5cb45e;left:0;top:-3px}#survicate-box .sv__contact-form-field.sv__invalid input,#survicate-box .sv__contact-form-field.sv__invalid input:focus{border-color:#c00}#survicate-box .sv__contact-form-field input{-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:4px;border-top-width:1px;width:100%;padding:12px 5px;height:40px;border-top-style:solid;border-left:1px solid rgba(0,0,0,0);border-right:1px solid rgba(0,0,0,0);border-bottom:1px solid rgba(0,0,0,0);-webkit-transition:border .5s;-o-transition:border .5s;transition:border .5s;outline-offset:3px}#survicate-box .sv__contact-form-field input:focus+.sv__contact-form-field-label{opacity:1}#survicate-box .sv__contact-form-field .sv__contact-form-field-label{position:absolute;left:10px;top:-9px;z-index:1;font-size:11px;-webkit-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s;opacity:0}#survicate-box .sv__contact-form-field .sv__contact-form-field-label:before{content:"";position:absolute;z-index:-1;top:9px;left:0;display:block;width:100%;height:1px}#survicate-box .sv__checkbox{display:inline-block;position:relative;margin-right:10px;height:16px;width:16px;cursor:pointer}#survicate-box .sv__checkbox svg{fill:currentColor}#survicate-box .sv__checkbox.sv__circle{border-radius:50%}#survicate-box .sv__checkbox.sv__circle .sv__tick{top:4px;left:6px;height:5px;width:5px;border-radius:100%}#survicate-box .sv__checkbox.sv__square{border-radius:2px}#survicate-box .sv__checkbox.sv__square .sv__tick{top:1px;left:5px;height:10px;width:6px;border-width:0 3px 3px 0;border-style:solid;background-color:rgba(0,0,0,0);-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}#survicate-box .sv__checkbox.sv__chat{background-color:#eff3f5;border:1px solid #d0dbe1}#survicate-box .sv__checkbox.sv__chat .sv__tick{left:5px}#survicate-box .sv__checkbox.sv__chat.sv__square .sv__tick{left:4px}#survicate-box .sv__checkbox .sv__tick{position:absolute;display:block}#survicate-box .sv__submit-button-wrapper{margin-top:10px}#survicate-box .sv__submit-button{padding:10px;width:100%;border-style:none none solid;border-radius:4px;font-weight:700;outline-offset:3px}#survicate-box .sv__submit-button.sv__chat{border-style:none;border-radius:30px}#survicate-box .sv__select{position:relative}#survicate-box .sv__select input{border-style:solid none none;border-radius:4px;width:100%;padding:15px 10px;cursor:pointer}#survicate-box .sv__select.sv__chat input{background:none;border-style:none none solid;border-bottom:1px solid #eff3f5}#survicate-box .sv__select .sv__caret{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:7px solid;position:absolute;top:20px;right:15px}#survicate-box .sv__select.sv__dropdown-open .sv__caret{border-top:none;border-bottom:7px solid}#survicate-box .sv__select.sv__light .sv__caret{border-top-color:#000;border-bottom-color:#000}#survicate-box .sv__select.sv__dark .sv__caret{border-top-color:#fff;border-bottom-color:#fff}#survicate-box .sv__select ul{position:absolute;list-style:none;padding:0;margin:0;width:100%;max-height:200px;overflow:auto;bottom:calc(100% + 2px);border-radius:4px 4px 0 0}#survicate-box .sv__select ul li button{border:none;padding:10px;border-radius:0;width:100%;font-size:inherit;-webkit-transition:none;-o-transition:none;transition:none;text-align:left;font-weight:400}#survicate-box .sv__select.sv__survey-up ul{bottom:auto;top:calc(100% + 2px);border-radius:0 0 4px 4px}#survicate-box .sv__survey{z-index:2147483646;position:fixed;padding:10px 15px;background:#fff;width:300px}#survicate-box .sv__survey.sv__position-right{right:30px;bottom:0}#survicate-box .sv__survey.sv__position-left{left:30px;bottom:0}#survicate-box .sv__survey.sv__position-top-right{right:30px;top:0}#survicate-box .sv__survey.sv__position-top-left{left:30px;top:0}#survicate-box .sv__survey.sv__position-center{bottom:50%;right:50%;-webkit-transform:translate(50%,50%);-ms-transform:translate(50%,50%);transform:translate(50%,50%);width:450px}#survicate-box .sv__survey.sv__position-top-left,#survicate-box .sv__survey.sv__position-top-right{border-radius:0 0 4px 4px}#survicate-box .sv__survey.sv__position-left,#survicate-box .sv__survey.sv__position-right{border-radius:4px 4px 0 0}#survicate-box .sv__survey.sv__position-center{border-radius:4px}#survicate-box .sv__survey.sv__classic-theme{-webkit-box-shadow:0 0 25px rgba(0,0,0,.5);box-shadow:0 0 25px rgba(0,0,0,.5)}#survicate-box .sv__survey.sv__chat-theme{-webkit-box-shadow:0 3px 32px rgba(0,0,0,.14);box-shadow:0 3px 32px rgba(0,0,0,.14)}#survicate-box .sv__survey.sv__minimized{cursor:pointer;-webkit-box-shadow:0 0 9px #000;box-shadow:0 0 9px #000;min-width:70px;min-height:39px;padding-right:35px;width:auto}#survicate-box .sv__survey.sv__minimized.sv__position-center{right:30px;-webkit-transform:none;-ms-transform:none;transform:none;width:auto;bottom:0}@media only screen and (max-width:568px){#survicate-box .sv__survey.sv__survey{-webkit-transform:none;-ms-transform:none;transform:none;width:calc(100% - 40px);margin:20px auto;left:20px;right:20px;border-radius:4px}#survicate-box .sv__survey.sv__survey.sv__position-top-left,#survicate-box .sv__survey.sv__survey.sv__position-top-right{top:0}#survicate-box .sv__survey.sv__survey.sv__position-center,#survicate-box .sv__survey.sv__survey.sv__position-left,#survicate-box .sv__survey.sv__survey.sv__position-right{bottom:0}#survicate-box .sv__survey.sv__survey.sv__minimized{width:100%;right:0;left:0;margin:0}#survicate-box .sv__survey.sv__survey.sv__minimized.sv__position-center{width:100%;right:0}}#survicate-box .sv__survey-bottom-placeholder{height:12px}#survicate-box .sv__point{padding:0 5px}#survicate-box .sv__point .sv__point-text{margin:5px 0}#survicate-box .sv__point .sv__point-question{margin-bottom:15px;font-weight:700}#survicate-box .sv__progress-bar{border-radius:4px 4px 0 0}#survicate-box .sv__progress-bar>div{border-radius:4px 0 0 0}@media only screen and (min-width:768px) and (-webkit-max-device-pixel-ratio:2),only screen and (min-width:813px){#survicate-box .sv__position-top-left .sv__progress-bar,#survicate-box .sv__position-top-left .sv__progress-bar>div,#survicate-box .sv__position-top-right .sv__progress-bar,#survicate-box .sv__position-top-right .sv__progress-bar>div{border-radius:0}}#survicate-box input::-webkit-input-placeholder{line-height:normal!important}',""])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=r(18),i=c(r(297)),o=c(r(300)),a=c(r(302)),u=c(r(305)),l=r(15);function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,n.connect)(({surveyState:e})=>({survey:e.survey,isMinimized:e.isMinimized}),l.actions)(({survey:e,isMinimized:t,close:r,retarget:n})=>(0,s.h)("div",{className:"sv-box-child"},(0,s.h)(a.default,null),!!e&&(t?(0,s.h)(i.default,null):(0,s.h)(u.default,null)),(0,s.h)(o.default,{urlChanged:()=>{e&&e.close_on_urlchange&&r(),n()}})));t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=r(18),i=r(15),o=r(14),a=l(r(207)),u=l(r(298));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.connect)(({surveyState:e})=>({text:e.survey&&e.survey.tooltip?e.survey.tooltip:"Please answer our short survey."}),i.actions)(({text:e,toggleMinimize:t})=>{const r=a.default.getSurveyClasses()+" sv-col-question sv__btn-maximize",n=u.default["plus-button"]+" sv-col-question sv__btn-maximize-plus";return(0,s.h)("div",{role:"button",tabIndex:0,className:r,onClick:()=>t(!1),onKeyDown:e=>(0,o.keyboardClick)(e,()=>t(!1))},e,(0,s.h)("div",{className:n},"+"))});t.default=c},function(e,t,r){var s=r(299);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,n);s.locals&&(e.exports=s.locals)},function(e,t,r){(t=e.exports=r(5)(!1)).push([e.i,"#survicate-box .survicate_plus-button_3rBOx{position:absolute;right:15px;bottom:10px;background-color:rgba(0,0,0,0)}",""]),t.locals={"plus-button":"survicate_plus-button_3rBOx"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(0),i=(s=r(301))&&s.__esModule?s:{default:s};class o extends n.Component{constructor(){super(),this.state={url:i.default.window.location.href,interval:null}}clearInterval(){this.state.interval&&(clearInterval(this.state.interval),this.setState({interval:null}))}componentWillUnmount(){this.state.interval&&this.clearInterval()}componentDidMount(){const e=window.setInterval(()=>{i.default.window.location.href!==this.state.url&&(this.setState({url:i.default.window.location.href}),this.props.urlChanged())},1e3);this.setState({interval:e})}render(){return null}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=new class{constructor(){var e,t,r;e=this,t="window",r=window,t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(0),i=r(18),o=r(7),a=r(15),u=(s=r(303))&&s.__esModule?s:{default:s};var l=(0,i.connect)(({surveyState:e})=>({overlay:e.survey&&e.isOverlayActive?e.survey.overlay:null}),a.actions)(({overlay:e,hideOverlay:t})=>e?(0,n.h)("div",{role:"button",tabIndex:0,className:[u.default.overlay,"sv__overlay",e===o.OverlayType.dark?u.default.dark+" sv__overlay-dark":u.default.light+" sv__overlay-light"].join(" "),onClick:t,onKeyDown:t}):null);t.default=l},function(e,t,r){var s=r(304);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,n);s.locals&&(e.exports=s.locals)},function(e,t,r){(t=e.exports=r(5)(!1)).push([e.i,"#survicate-box .survicate_overlay_3en50{position:fixed;height:100vh;width:100vw;z-index:999995;top:0;left:0}#survicate-box .survicate_overlay_3en50.survicate_dark_3dVQC{opacity:.35;background-color:#000}#survicate-box .survicate_overlay_3en50.survicate_light_2LfbL{opacity:.5;background-color:#fff}",""]),t.locals={overlay:"survicate_overlay_3en50",dark:"survicate_dark_3dVQC",light:"survicate_light_2LfbL"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=r(18),i=_(r(167)),o=r(62),a=r(15),u=r(7),l=_(r(170)),c=_(r(306)),d=_(r(309)),p=_(r(207)),v=_(r(312)),f=_(r(313));function _(e){return e&&e.__esModule?e:{default:e}}class y extends s.Component{getHideCloseButtons(e){if(!this.props.survey)return null;const{close_icon:t,show_close:r,show_minimize:n}=this.props.survey;return t===e?(0,s.h)(c.default,{showCloseBtn:r,showMinimizeBtn:n,toggleMinimize:()=>this.props.toggleMinimize(!0),smallVersion:e===u.TWSButtonsPosition.bottom,close:this.props.close}):null}render(){const{survey:e,surveyPoint:t,completionRate:r,pointAnswer:n,avatarSettings:o,setSubmitButtonPresent:a}=this.props;return e?(0,s.h)("div",{className:p.default.getSurveyClasses()},e&&e.show_progress_bar&&(0,s.h)(i.default,{progress:r}),this.getHideCloseButtons(u.TWSButtonsPosition.top),o&&(0,s.h)(d.default,o),(0,s.h)(v.default,{point:t.point,value:t.value,answer:n,submitText:e.submit_text,setSubmitButtonPresent:a}),(0,s.h)("div",{className:e&&e.show_subfooter?f.default["footer-wrapper"]:""},e&&e.show_subfooter&&(0,s.h)(l.default,null),this.getHideCloseButtons(u.TWSButtonsPosition.bottom))):null}}var h=(0,n.connect)(({surveyState:e})=>({survey:e.survey,surveyPoint:e.pointsDisplayed[e.pointsDisplayed.length-1],completionRate:(0,o.getCompletionRate)(e),avatarSettings:p.default.avatarSettings()}),a.actions)(y);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(0),i=r(14),o=(s=r(307))&&s.__esModule?s:{default:s};var a=e=>{if(!e.showCloseBtn&&!e.showMinimizeBtn)return null;const t=[o.default["survey-buttons"],e.smallVersion?o.default.small:""].join(" ");return(0,n.h)("div",{className:t},e.showMinimizeBtn&&(0,n.h)("button",{type:"button","aria-label":"minimize",onClick:t=>{t.preventDefault(),t.stopPropagation(),e.toggleMinimize()},onKeyDown:t=>(0,i.keyboardClick)(t,e.toggleMinimize,{preventDefault:!0}),className:"sv-col-small-button-bw sv__btn-minimize"},"—"),e.showCloseBtn&&(0,n.h)("button",{type:"button","aria-label":"close",onClick:e.close,onKeyDown:t=>(0,i.keyboardClick)(t,e.close,{preventDefault:!0}),className:"sv-col-small-button-bw sv__btn-close"},"X"))};t.default=a},function(e,t,r){var s=r(308);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,n);s.locals&&(e.exports=s.locals)},function(e,t,r){(t=e.exports=r(5)(!1)).push([e.i,"#survicate-box .survicate_survey-buttons_3ws-x{color:#b3b3b3;float:right;padding:0}#survicate-box .survicate_survey-buttons_3ws-x button{display:inline-block;background:none;border:none;color:inherit;font-family:Open sans,sans-serif;padding:6px;font-weight:700;-webkit-transition:color .3s;-o-transition:color .3s;transition:color .3s}#survicate-box .survicate_survey-buttons_3ws-x button:focus{outline-offset:3px}#survicate-box .survicate_small_uC5dD{font-size:11px}",""]),t.locals={"survey-buttons":"survicate_survey-buttons_3ws-x",small:"survicate_small_uC5dD"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(0),i=(s=r(310))&&s.__esModule?s:{default:s};var o=({avatar_description:e,avatar_name:t,avatar_url:r,avatar_company:s})=>(0,n.h)("div",{className:i.default.avatar+" sv__avatar"},(0,n.h)("img",{src:r||"https://surveys-static.survicate.com/images/avatar.svg",alt:""}),(0,n.h)("div",null,(0,n.h)("p",{className:"sv-col-main"},(0,n.h)("strong",null,t||"John")," ",s||"from Company"),(0,n.h)("p",{className:[i.default["avatar-description"],"sv-col-main"].join(" ")},e||"Manager")));t.default=o},function(e,t,r){var s=r(311);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,n);s.locals&&(e.exports=s.locals)},function(e,t,r){(t=e.exports=r(5)(!1)).push([e.i,"#survicate-box .survicate_avatar_3rSdl{padding:15px 10px 15px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}#survicate-box .survicate_avatar_3rSdl img{width:45px;height:45px;border-radius:50%;vertical-align:sub}#survicate-box .survicate_avatar_3rSdl div{display:inline-block;margin-left:10px}#survicate-box .survicate_avatar_3rSdl div .survicate_avatar-description_1mzqL{font-size:11px}#survicate-box .survicate_avatar_3rSdl p{color:#808e9b}",""]),t.locals={avatar:"survicate_avatar_3rSdl","avatar-description":"survicate_avatar-description_1mzqL"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(0),n=r(173),i=r(84),o=r(177),a=r(178),u=r(24),l=x(r(179)),c=x(r(182)),d=x(r(184)),p=r(39),v=x(r(187)),f=r(188),_=r(189),y=r(12),h=x(r(191)),b=x(r(87)),m=r(194),g=x(r(195)),w=r(64);function x(e){return e&&e.__esModule?e:{default:e}}var S=({point:e,answer:t,value:r,submitText:x,setSubmitButtonPresent:S})=>{const k=`sv__point sv__${e.answer_type}-survey-point`;return(0,s.h)("div",{className:k},(0,s.h)("div",{className:"sv__point-texts"},e.description&&(0,s.h)(i.PointText,{text:e.description,type:i.PointTextType.description}),e.content&&(0,s.h)(i.PointText,{text:e.content,type:i.PointTextType.question})),(0,s.h)("div",{className:"sv__point-wrapper"},(()=>{const i={[y.SurveyQuestionAnswerType.single]:b.default,[y.SurveyQuestionAnswerType.multiple]:l.default,[y.SurveyQuestionAnswerType.text]:g.default,[y.SurveyQuestionAnswerType.smileyScale]:_.SmileyScale,[y.SurveyQuestionAnswerType.date]:c.default,[y.SurveyQuestionAnswerType.rating]:n.Rating,[y.SurveyQuestionAnswerType.dropdown]:d.default,[p.NpsAnswerType.nps]:a.Nps,[u.CtaAnswerType.button]:o.ButtonNext,[u.CtaAnswerType.buttonLink]:o.ButtonNext,[u.CtaAnswerType.redirect]:v.default,[u.CtaAnswerType.social]:f.SocialPoint,[u.CtaAnswerType.thankYouMessage]:m.ThankYou,[w.FormAnswerType.form]:h.default}[e.answer_type||e.type];return i?(0,s.createElement)(i,{point:e,value:r,answer:t,submitText:x,setSubmitButtonPresent:S}):(setTimeout(()=>t({answers:[],textResponse:"",anonymizedTextResponse:""})),null)})()))};t.default=S},function(e,t,r){var s=r(314);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(6)(s,n);s.locals&&(e.exports=s.locals)},function(e,t,r){(t=e.exports=r(5)(!1)).push([e.i,"#survicate-box .survicate_footer-wrapper_3LNls{margin-top:10px}",""]),t.locals={"footer-wrapper":"survicate_footer-wrapper_3LNls"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var s=r(0),n=r(18);r(354),r(292),r(294),r(81);var i=r(1),o=l(r(21)),a=r(355),u=l(r(296));function l(e){return e&&e.__esModule?e:{default:e}}o.default.initGlobalErrorsWatch();const c=async()=>{if(!document.body||!document.head)return void setTimeout(()=>c(),250);if(!(0,a.isLocalStorageValid)())return;await(0,i.initStore)(i.LoadingType.TWS);const e=document.createElement("div");e.id="survicate-box";const t=document.createElement("link");t.href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap",t.rel="stylesheet",document.head.appendChild(t),document.body.appendChild(e),(0,s.render)((0,s.h)(n.Provider,{store:i.store},(0,s.h)(u.default,null)),e)};"complete"===document.readyState||"interactive"===document.readyState?setTimeout(c,1):document.addEventListener("DOMContentLoaded",()=>setTimeout(()=>c(),1))},function(e,t,r){"use strict";var s,n,i,o=(s=r(44))&&s.__esModule?s:{default:s};n=window._svd||{},i=window._svc||{},n.installing&&(0,o.default)("https://respondent.survicate.com").post(`workspaces/${i.workspaceKey}/installed.json`,JSON.stringify({platform:"web"}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLocalStorageValid=void 0;t.isLocalStorageValid=()=>{const e="someKey";let t=!0;try{localStorage.setItem(e,"value"),t=t&&"value"===localStorage.getItem(e),sessionStorage.setItem(e,"value"),t=t&&"value"===sessionStorage.getItem(e),localStorage.removeItem(e),sessionStorage.removeItem(e)}catch(e){t=!1}return t}}])}));
//# sourceMappingURL=widget_core-7.4.3.js.map